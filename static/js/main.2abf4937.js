/*! For license information please see main.2abf4937.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,x=60106,S=60107,T=60108,_=60114,C=60109,N=60110,I=60112,A=60113,D=60120,L=60115,O=60116,P=60121,j=60128,R=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;E=V("react.element"),x=V("react.portal"),S=V("react.fragment"),T=V("react.strict_mode"),_=V("react.profiler"),C=V("react.provider"),N=V("react.context"),I=V("react.forward_ref"),A=V("react.suspense"),D=V("react.suspense_list"),L=V("react.memo"),O=V("react.lazy"),P=V("react.block"),V("react.scope"),j=V("react.opaque.id"),R=V("react.debug_trace_mode"),M=V("react.offscreen"),F=V("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case _:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return G(e.type);case P:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function le(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ne=null,Ie=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ce(e.stateNode,e.type,t))}}function De(e){Ne?Ie?Ie.push(e):Ie=[e]:Ne=e}function Le(){if(Ne){var e=Ne,t=Ie;if(Ie=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Re=Oe,Me=!1,Fe=!1;function Ve(){null===Ne&&null===Ie||(je(),Le())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var He=!1,Ke=null,We=!1,Ge=null,Qe={onError:function(e){He=!0,Ke=e}};function $e(e,t,n,r,i,a,o,u,s){He=!1,Ke=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,lt=null,ct=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==lt&&gt(lt)&&(lt=null),ct.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==lt&&wt(lt,e),ct.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Tt={},_t={};function Ct(e){if(Tt[e])return Tt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return Tt[e]=n[t];return e}f&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Nt=Ct("animationend"),It=Ct("animationiteration"),At=Ct("animationstart"),Dt=Ct("transitionend"),Lt=new Map,Ot=new Map,Pt=["abort","abort",Nt,"animationEnd",It,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Lt.set(r,i),l(i,[r])}}(0,a.unstable_now)();var Rt=8;function Mt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Rt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Rt):0!==(u&=a)&&(r=Mt(u),i=Rt)}else 0!==(a=n&~o)?(r=Mt(a),i=Rt):0!==u&&(r=Mt(u),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Me||je();var i=Jt,a=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=a)||Ve()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,mt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}jr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=_e(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return jr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=sn(wn),xn=sn(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Nn(){return Cn}var In=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(In),Dn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),On=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=sn(Pn),Rn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Vn=f&&"TextEvent"in window&&!Fn,Un=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){De(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Ir(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,_e(e)),e=Xn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,Er=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Pt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Sr.length;Tr++)Ot.set(Sr[Tr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,l){if($e.apply(this,arguments),He){if(!He)throw Error(o(198));var c=Ke;He=!1,Ke=null,We||(We=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Nr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Nr(i,u,l),a=s}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){e[Dr]||(e[Dr]=!0,u.forEach((function(t){Cr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Pr(a,e,i,t),o.add(u))}function Pr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Re(e,t,n)}finally{Fe=!1,Ve()}}((function(){var r=a,i=_e(n),o=[];e:{var u=Lt.get(e);if(void 0!==u){var s=dn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":l="focus",s=kn;break;case"focusout":l="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Ln;break;case Nt:case It:case At:s=bn;break;case Dt:s=On;break;case"scroll":s=vn;break;case"wheel":s=jn;break;case"copy":case"cut":case"paste":s=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Dn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&c.push(Rr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(f=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Dn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==l?u:ii(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)c=Fr(c),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Fr(c),h=Fr(h)}c=null}else c=null;null!==s&&Vr(o,u,s,c,!1),null!==l&&null!==f&&Vr(o,f,l,c,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=lr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Mr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Mn&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ir(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Rr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Rr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Ue(n,a))&&o.unshift(Rr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Rr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function li(e){return{current:e}}function ci(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=li(hi),pi=li(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){ci(pi),ci(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(di),fi(di,e)):ci(pi),fi(pi,n)}var xi=null,Si=null,Ti=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ni=a.unstable_shouldYield,Ii=a.unstable_requestPaint,Ai=a.unstable_now,Di=a.unstable_getCurrentPriorityLevel,Li=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,ji=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ii?Ii:function(){},Vi=null,Ui=null,Bi=!1,zi=Ai(),qi=1e4>zi?Ai:function(){return Ai()-zi};function Hi(){switch(Di()){case Li:return 99;case Oi:return 98;case Pi:return 97;case ji:return 96;case Ri:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Li;case 98:return Oi;case 97:return Pi;case 96:return ji;case 95:return Ri;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Ti(e,t)}function Gi(e,t,n){return e=Ki(e),_i(e,t,n)}function Qi(){if(null!==Ui){var e=Ui;Ui=null,Ci(e)}$i()}function $i(){if(!Bi&&null!==Vi){Bi=!0;var e=0;try{var t=Vi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),_i(Li,Qi),n}finally{Bi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=li(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===u?o=c:u.next=c,u=l;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=l)}}if(null!==o){for(h=a.baseState,u=0,f=c=l=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=d,l=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ea=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xs(t,e.mode,n)).return=e,t}if(Ea(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null}if(Ea(n)||z(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ea(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,u,s){for(var l=null,c=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===u.length)return n(i,f),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),l}function m(i,u,s,l){var c=z(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var f=c=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?c=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,l))&&(u=a(g,u,m),null===f?c=g:f.sibling=g,f=g);return c}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,s){var l="object"===typeof a&&null!==a&&a.type===S&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case E:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(a.type===S){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}}else if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=xa(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===S?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(Ea(a))return v(e,r,a,s);if(z(a))return m(e,r,a,s);if(c&&Sa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var _a=Ta(!0),Ca=Ta(!1),Na={},Ia=li(Na),Aa=li(Na),Da=li(Na);function La(e){if(e===Na)throw Error(o(174));return e}function Oa(e,t){switch(fi(Da,t),fi(Aa,e),fi(Ia,Na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ia),fi(Ia,t)}function Pa(){ci(Ia),ci(Aa),ci(Da)}function ja(e){La(Da.current);var t=La(Ia.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Ia,n))}function Ra(e){Aa.current===e&&(ci(Ia),ci(Aa))}var Ma=li(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ua=null,Ba=!1;function za(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Ua;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Va=e);za(Va,n)}Va=e,Ua=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Va=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Wa(e){if(e!==Va)return!1;if(!Ba)return Ka(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Ua;t;)za(e,t),t=Qr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Va?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Ua=Va=null,Ba=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Po,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=jo,e=n(r,i)}while(ro)}if(Ya.current=Lo,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function lo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,l=i;do{var c=l.lane;if((Ja&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=c,Bu|=c}l=l.next}while(null!==l&&l!==i);null===s?a=r:s.next=u,cr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);cr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,l=s.useState((function(){return ho(i,t,n)})),c=l[1],f=l[0];l=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=a(t._source);if(!cr(u,e)){e=n(t._source),cr(f,e)||(c(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Ht(o),l=1<<s;r[s]|=e,o&=~l}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:f}).dispatch=c=Do.bind(null,Za,e),l.queue=e,l.baseQueue=null,f=ho(i,t,n),l.memoizedState=l.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=Do.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function Eo(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function So(e,t){return wo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)}function Co(){}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Do(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,cr(s,u))return}catch(l){}ps(e,i,r)}}var Lo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Do.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Co,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:No,useContext:oa,useEffect:xo,useImperativeHandle:_o,useLayoutEffect:So,useMemo:Io,useReducer:co,useRef:ko,useState:function(){return co(lo)},useDebugValue:Co,useDeferredValue:function(e){var t=co(lo),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},jo={readContext:oa,useCallback:No,useContext:oa,useEffect:xo,useImperativeHandle:_o,useLayoutEffect:So,useMemo:Io,useReducer:fo,useRef:ko,useState:function(){return fo(lo)},useDebugValue:Co,useDeferredValue:function(e){var t=fo(lo),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(lo)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(lo)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):_a(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ks(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ws(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Ho(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Es(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Es(t,e),null;t.memoizedState={baseLanes:0},Es(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Es(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=oa(l):l=mi(t,l=yi(n)?vi:di.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&ba(t,o,r,l),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof c&&(ma(t,n,c,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,la(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:Xi(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(l=ua||ga(t,n,l,r,h,p,s))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),au(e,t,a);r=t.stateNode,Ro.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(o,u),null!==e?r=Ws(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Pa(),ci(pi),ci(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ra(t);var a=La(Da.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=La(Ia.current),Wa(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Ar(_r[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var l in Se(n,u),e=null,u)u.hasOwnProperty(l)&&(a=u[l],"children"===l?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,l=Te(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<_r.length;a++)Ar(_r[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}Se(n,a);var c=a;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];"style"===u?Ee(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=La(Da.current),La(Ia.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Ou||0===(134217727&Bu)&&0===(134217727&zu)||gs(Ou,ju))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),null===e&&Lr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(ci(Ma),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(l=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=l.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(l=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=l.childLanes,u.lanes=l.lanes,u.child=l.child,u.memoizedProps=l.memoizedProps,u.memoizedState=l.memoizedState,u.updateQueue=l.updateQueue,u.type=l.type,e=l.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Wu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(l))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ma.current,fi(Ma,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),ci(pi),ci(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ra(e),null;case 13:return ci(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Ma),null;case 4:return Pa(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function lu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function cu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,La(Ia.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var l=a[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(u||(u=[]),u.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(u=u||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(u=u||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Ar("scroll",e),u||l===c||(u=[])):"object"===typeof c&&null!==c&&c.$$typeof===j?c.toString():(u=u||[]).push(f,c))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),cu(0,t)},n}function du(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),cu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Us(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ms(n,e),Rs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ms(t,n);else{r=t;try{i()}catch(a){Us(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Us(t,a)}break;case 5:vu(t);break;case 4:Tu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function Eu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Su(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Tu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,l=s;;)if(ku(u,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break e;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?Ee(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ku=qi(),gu(t.child,!0)),void Cu(t);case 19:return void Cu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Nu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Iu=Math.ceil,Au=w.ReactCurrentDispatcher,Du=w.ReactCurrentOwner,Lu=0,Ou=null,Pu=null,ju=0,Ru=0,Mu=li(0),Fu=0,Vu=null,Uu=0,Bu=0,zu=0,qu=0,Hu=null,Ku=0,Wu=1/0;function Gu(){Wu=qi()+500}var Qu,$u=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,ls=0,cs=null,fs=!1;function hs(){return 0!==(48&Lu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===ss&&(ss=Uu),0!==Yi.transition){0!==ls&&(ls=null!==Hu?Hu.pendingLanes:0),e=ss;var t=4186112&~ls;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Lu)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ou&&(zu|=t,4===Fu&&gs(e,ju));var r=Hi();1===t?0!==(8&Lu)&&0===(48&Lu)?ks(e):(ms(e,n),0===Lu&&(Gu(),Qi())):(0===(4&Lu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Ht(u),l=1<<s,c=a[s];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Mt(l);var f=Rt;a[s]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);u&=~l}if(r=Ft(e,e===Ou?ju:0),t=Rt,0===r)null!==n&&(n!==Mi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ci(n)}15===t?(n=ks.bind(null,e),null===Vi?(Vi=[n],Ui=_i(Li,$i)):Vi.push(n),n=Mi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,ls=ss=0,0!==(48&Lu))throw Error(o(327));var t=e.callbackNode;if(js()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ou?ju:0);if(0===n)return null;var r=n,i=Lu;Lu|=16;var a=_s();for(Ou===e&&ju===r||(Gu(),Ss(e,r));;)try{Is();break}catch(s){Ts(e,s)}if(na(),Au.current=a,Lu=i,null!==Pu?r=0:(Ou=null,ju=0,r=Fu),0!==(Uu&zu))Ss(e,0);else if(0!==r){if(2===r&&(Lu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Vt(e))&&(r=Cs(e,n))),1===r)throw t=Vu,Ss(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ls(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Ku+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ls.bind(null,e),r);break}Ls(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Ht(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Iu(n/1960))-n)){e.timeoutHandle=Kr(Ls.bind(null,e),n);break}Ls(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Lu))throw Error(o(327));if(js(),e===Ou&&0!==(e.expiredLanes&ju)){var t=ju,n=Cs(e,t);0!==(Uu&zu)&&(n=Cs(e,t=Ft(e,t)))}else n=Cs(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Lu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Vt(e))&&(n=Cs(e,t))),1===n)throw n=Vu,Ss(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ls(e),ms(e,qi()),null}function bs(e,t){var n=Lu;Lu|=1;try{return e(t)}finally{0===(Lu=n)&&(Gu(),Qi())}}function ws(e,t){var n=Lu;Lu&=-2,Lu|=8;try{return e(t)}finally{0===(Lu=n)&&(Gu(),Qi())}}function Es(e,t){fi(Mu,Ru),Ru|=t,Uu|=t}function xs(){Ru=Mu.current,ci(Mu)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Pa(),ci(pi),ci(di),$a();break;case 5:Ra(r);break;case 4:Pa();break;case 13:case 19:ci(Ma);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Ou=e,Pu=Ws(e.current,null),ju=Ru=Uu=t,Fu=0,Vu=null,qu=zu=Bu=0}function Ts(e,t){for(;;){var n=Pu;try{if(na(),Ya.current=Lo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Du.current=null,null===n||null===n.return){Fu=1,Vu=t,Pu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=ju,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(l),h.updateQueue=y}else m.add(l);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=ca(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(l,s)):void 0===(s=k.get(l))&&(s=new Set,k.set(l,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,l,u);l.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=lu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Ju||!Ju.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ds(n)}catch(x){t=x,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function _s(){var e=Au.current;return Au.current=Lo,null===e?Lo:e}function Cs(e,t){var n=Lu;Lu|=16;var r=_s();for(Ou===e&&ju===t||Ss(e,t);;)try{Ns();break}catch(i){Ts(e,i)}if(na(),Lu=n,Au.current=r,null!==Pu)throw Error(o(261));return Ou=null,ju=0,Fu}function Ns(){for(;null!==Pu;)As(Pu)}function Is(){for(;null!==Pu&&!Ni();)As(Pu)}function As(e){var t=Qu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?Ds(e):Pu=t,Du.current=null}function Ds(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Ru)))return void(Pu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ru)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Pu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Fu&&(Fu=5)}function Ls(e){var t=Hi();return Wi(99,Os.bind(null,e,t)),null}function Os(e,t){do{js()}while(null!==es);if(0!==(48&Lu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var l=31-Ht(a),c=1<<l;i[l]=0,u[l]=-1,s[l]=-1,a&=~c}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Pu=Ou=null,ju=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Lu,Lu|=32,Du.current=null,Br=$t,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch(_){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==l||0!==c&&3!==m.nodeType||(d=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===l&&++v===c&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},$t=!1,cs=null,fs=!1,$u=r;do{try{Ps()}catch(_){if(null===$u)throw Error(o(330));Us($u,_),$u=$u.nextEffect}}while(null!==$u);cs=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:Eu($u),$u.flags&=-3;break;case 6:Eu($u),$u.flags&=-3,_u($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,_u($u.alternate,$u);break;case 4:_u($u.alternate,$u);break;case 8:Tu(u,s=$u);var E=s.alternate;bu(s),null!==E&&bu(E)}$u=$u.nextEffect}}catch(_){if(null===$u)throw Error(o(330));Us($u,_),$u=$u.nextEffect}}while(null!==$u);if(w=zr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,E=Math.min(u.start,s),u=void 0===u.end?E:Math.min(u.end,s),!w.extend&&E>u&&(s=u,u=E,E=s),s=pr(k,E),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),E>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Br,zr=Br=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var x=$u.flags;if(36&x&&yu(k,$u.alternate,$u),128&x){b=void 0;var S=$u.ref;if(null!==S){var T=$u.stateNode;$u.tag,b=T,"function"===typeof S?S(b):S.current=b}}$u=$u.nextEffect}}catch(_){if(null===$u)throw Error(o(330));Us($u,_),$u=$u.nextEffect}}while(null!==$u);$u=null,Fi(),Lu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((x=$u).sibling=null,x.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(_){}if(ms(e,qi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Lu)||Qi(),null}function Ps(){for(;null!==$u;){var e=$u.alternate;fs||null===cs||(0!==(8&$u.flags)?et($u,cs)&&(fs=!0):13===$u.tag&&Nu(e,$u)&&et($u,cs)&&(fs=!0));var t=$u.flags;0!==(256&t)&&mu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return js(),null}))),$u=$u.nextEffect}}function js(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Wi(e,Fs)}return!1}function Rs(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return js(),null})))}function Ms(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return js(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Lu))throw Error(o(331));var t=Lu;Lu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(l){if(null===a)throw Error(o(330));Us(a,l)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(l){if(null===a)throw Error(o(330));Us(a,l)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Lu=t,Qi(),!0}function Vs(e,t,n){fa(e,t=hu(0,t=lu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function Us(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=lu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(ju&n)===n&&(4===Fu||3===Fu&&(62914560&ju)===ju&&500>qi()-Ku?Ss(e,0):qu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===ss&&(ss=Uu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new qs(e,t,n,r)}function Ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ks(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Qs(n.children,i,a,t);case R:u=8,i|=16;break;case T:u=8,i|=1;break;case _:return(e=Hs(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case A:return(e=Hs(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case D:return(e=Hs(19,n,t,i)).elementType=D,e.lanes=a,e;case M:return $s(n,i,a,t);case F:return(e=Hs(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case N:u=9;break e;case I:u=11;break e;case L:u=14;break e;case O:u=16,r=null;break e;case P:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=M,e.lanes=n,e}function Ys(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var l=n.type;if(yi(l)){n=bi(n,l,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function il(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Lr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function al(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tl(o);u.call(e)}}el(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new il(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tl(o);s.call(e)}}ws((function(){el(t,o,e,i)}))}return tl(o)}function ul(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!al(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:ja(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ks(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===L)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Qr(t.stateNode.containerInfo.firstChild),Va=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return ja(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Hr(r,i)?u=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=cr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===s.tag&&((c=ca(-1,n&-n)).tag=2,fa(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ia(s.return,n),l.lanes|=n;break}c=c.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Uo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},il.prototype.render=function(e){el(e,this._internalRoot,null,null)},il.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rl(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rl(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,Pe=function(e,t,n,r,i){var a=Lu;Lu|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Lu=a)&&(Gu(),Qi())}},je=function(){0===(49&Lu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Qi()}(),js())},Re=function(e,t){var n=Lu;Lu|=2;try{return e(t)}finally{0===(Lu=n)&&(Gu(),Qi())}};var sl={Events:[ri,ii,ai,De,Le,js,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{xi=fl.inject(cl),Si=fl}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,t.createPortal=ul,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Lu;if(0!==(48&n))return e(t);Lu|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Lu=n,Qi()}},t.hydrate=function(e,t,n){if(!al(t))throw Error(o(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!al(t))throw Error(o(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!al(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return ul(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!al(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ol(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+_(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+_(u=e[l],l);s+=C(u,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,c=r+_(u,l++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new N(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=T(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,a)&&(k=w);var E=g.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(E,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>T(o,n))void 0!==s&&0>T(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],C=[],N=1,I=null,A=3,D=!1,L=!1,O=!1;function P(e){for(var t=x(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,E(_,t)}t=x(C)}}function j(e){if(O=!1,P(e),!L)if(null!==x(_))L=!0,n(R);else{var t=x(C);null!==t&&r(j,t.startTime-e)}}function R(e,n){L=!1,O&&(O=!1,i()),D=!0;var a=A;try{for(P(n),I=x(_);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=I.callback;if("function"===typeof o){I.callback=null,A=I.priorityLevel;var u=o(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?I.callback=u:I===x(_)&&S(_),P(n)}else S(_);I=x(_)}if(null!==I)var s=!0;else{var l=x(C);null!==l&&r(j,l.startTime-n),s=!1}return s}finally{I=null,A=a,D=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||D||(L=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return x(_)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:N++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,E(C,e),null===x(_)&&e===x(C)&&(O?i():O=!0,r(j,o-u))):(e.sortIndex=s,E(_,e),L||D||(L=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".69af1a8b.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="proyecto-final:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkproyecto_final=self.webpackChunkproyecto_final||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u,s=n(184),l=(0,e.createContext)(),c=function(t){var n=t.children,r=t.onAdd,i=a((0,e.useState)([]),2),u=i[0],c=i[1],f=a((0,e.useState)(),2),h=f[0],d=f[1],p=function(e){return 0!==u.filter((function(t){return t.id===e})).length};return(0,s.jsx)(l.Provider,{value:{cart:u,addItem:function(e){p(e.id)?u.forEach((function(t){t.id===e.id&&(t.nuevaCantidad+=e.nuevaCantidad)})):c([].concat(o(u),[e])),r(e.nuevaCantidad)},getQuantity:function(){var e=0;return u.forEach((function(t){return e+=t.nuevaCantidad})),e},isInCart:p,clear:function(){c([])},removeItem:function(e){c(u.filter((function(t){return t.id!==e})))},valorTotal:function(){var e=0;return u.forEach((function(t){e+=t.nuevaCantidad*parseInt(t.precioDefinitivo.replace(".",""))})),e},user:h,setUser:d},children:n})},f=l,h=function(){var t=(0,e.useContext)(f).getQuantity;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"icon",children:[(0,s.jsx)("ion-icon",{name:"cart-outline"}),(0,s.jsx)("p",{id:"cantidadCarrito",children:0===t()?"":t()})]}),(0,s.jsx)("span",{className:"text",children:"Carrito"})]})};function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(u||(u={}));var p=function(e){return e};var v="beforeunload",m="popstate";function y(e){e.preventDefault(),e.returnValue=""}function g(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function k(){return Math.random().toString(36).substr(2,8)}function b(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function w(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var E=(0,e.createContext)(null);var x=(0,e.createContext)(null);var S=(0,e.createContext)({outlet:null,matches:[]});function T(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?w(t):t).pathname||"/",n);if(null==r)return null;var i=C(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=D(i[o],r);return a}function C(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||T(!1),a.relativePath=a.relativePath.slice(r.length));var o=j([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&T(!1),C(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:u})})),t}var N=/^:\w+$/,I=function(e){return"*"===e};function A(e,t){var n=e.split("/"),r=n.length;return n.some(I)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!I(e)})).reduce((function(e,t){return e+(N.test(t)?3:""===t?1:10)}),r)}function D(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=L({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;a.push({params:r,pathname:j([i,c.pathname]),pathnameBase:R(j([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=j([i,c.pathnameBase]))}return a}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],l=s.replace(/(.)\/+$/,"$1"),c=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function O(e,t,n){var r,i="string"===typeof e?w(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?w(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:M(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var j=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},M=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function V(t){U()||T(!1);var n=(0,e.useContext)(E),r=n.basename,i=n.navigator,a=H(t),o=a.hash,u=a.pathname,s=a.search,l=u;if("/"!==r){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?w(e).pathname:e.pathname}(t),f=null!=c&&c.endsWith("/");l="/"===u?r+(f?"/":""):j([r,u])}return i.createHref({pathname:l,search:s,hash:o})}function U(){return null!=(0,e.useContext)(x)}function B(){return U()||T(!1),(0,e.useContext)(x).location}function z(){U()||T(!1);var t=(0,e.useContext)(E),n=t.basename,r=t.navigator,i=(0,e.useContext)(S).matches,a=B().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,e.useRef)(!1);(0,e.useEffect)((function(){u.current=!0}));var s=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=O(e,JSON.parse(o),a);"/"!==n&&(i.pathname=j([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function q(){var t=(0,e.useContext)(S).matches,n=t[t.length-1];return n?n.params:{}}function H(t){var n=(0,e.useContext)(S).matches,r=B().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return O(t,JSON.parse(i),r)}),[t,i,r])}function K(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(S.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function W(e){T(!1)}function G(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,l=void 0===s?u.Pop:s,c=t.navigator,f=t.static,h=void 0!==f&&f;U()&&T(!1);var d=R(r),p=(0,e.useMemo)((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof o&&(o=w(o));var v=o,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,S=void 0===b?"":b,_=v.state,C=void 0===_?null:_,N=v.key,I=void 0===N?"default":N,A=(0,e.useMemo)((function(){var e=P(y,d);return null==e?null:{pathname:e,search:k,hash:S,state:C,key:I}}),[d,y,k,S,C,I]);return null==A?null:(0,e.createElement)(E.Provider,{value:p},(0,e.createElement)(x.Provider,{children:a,value:{location:A,navigationType:l}}))}function Q(t){var n=t.children,r=t.location;return function(t,n){U()||T(!1);var r,i=(0,e.useContext)(S).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,B());if(n){var l,c="string"===typeof n?w(n):n;"/"===u||(null==(l=c.pathname)?void 0:l.startsWith(u))||T(!1),r=c}else r=s;var f=r.pathname||"/",h=_(t,{pathname:"/"===u?f:f.slice(u.length)||"/"});return K(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:j([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:j([u,e.pathnameBase])})})),i)}($(n),r)}function $(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==W&&T(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=$(t.props.children)),n.push(r)}else n.push.apply(n,$(t.props.children))})),n}function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var J=["onClick","reloadDocument","replace","state","target","to"];function Z(t){var n=t.basename,r=t.children,i=t.window,o=(0,e.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,p({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(m,(function(){if(a)h.call(a),a=null;else{var e=u.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var o=l-n;o&&(a={action:e,location:r,retry:function(){C(-1*o)}},C(o))}}else _(e)}}));var o=u.Pop,s=i(),l=s[0],c=s[1],f=g(),h=g();function E(e){return"string"===typeof e?e:b(e)}function x(e,t){return void 0===t&&(t=null),p(d({pathname:c.pathname,hash:"",search:""},"string"===typeof e?w(e):e,{state:t,key:k()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function T(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function _(e){o=e;var t=i();l=t[0],c=t[1],f.call({action:o,location:c})}function C(e){r.go(e)}null==l&&(l=0,r.replaceState(d({},r.state,{idx:l}),""));var N={get action(){return o},get location(){return c},createHref:E,push:function e(t,i){var a=u.Push,o=x(t,i);if(T(a,o,(function(){e(t,i)}))){var s=S(o,l+1),c=s[0],f=s[1];try{r.pushState(c,"",f)}catch(h){n.location.assign(f)}_(a)}},replace:function e(t,n){var i=u.Replace,a=x(t,n);if(T(i,a,(function(){e(t,n)}))){var o=S(a,l),s=o[0],c=o[1];r.replaceState(s,"",c),_(i)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return f.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(v,y),function(){t(),h.length||n.removeEventListener(v,y)}}};return N}({window:i}));var s=o.current,l=a((0,e.useState)({action:s.action,location:s.location}),2),c=l[0],f=l[1];return(0,e.useLayoutEffect)((function(){return s.listen(f)}),[s]),(0,e.createElement)(G,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:s})}var ee=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,a=t.replace,o=void 0!==a&&a,u=t.state,s=t.target,l=t.to,c=X(t,J),f=V(l),h=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=z(),s=B(),l=H(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!a||b(s)===b(l);u(t,{replace:n,state:o})}}),[s,u,l,a,o,i,t])}(l,{replace:o,state:u,target:s});return(0,e.createElement)("a",Y({},c,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));var te=function(e){var t=e.cantidadCarrito,n=document.querySelectorAll(".list");function r(){n.forEach((function(e){return e.classList.remove("active")})),this.classList.add("active")}return n.forEach((function(e){return e.addEventListener("click",r)})),(0,s.jsx)("div",{className:"navBar",children:(0,s.jsxs)("div",{className:"navigation",children:[(0,s.jsx)("div",{className:"container-logo-marca",children:(0,s.jsx)(ee,{to:"/",children:(0,s.jsx)("h1",{children:"MOTOCENTER"})})}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{className:"list active",children:(0,s.jsx)(ee,{to:"/",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"icon",children:(0,s.jsx)("ion-icon",{name:"bicycle-outline"})}),(0,s.jsx)("span",{className:"text",children:"Home"})]})})}),(0,s.jsx)("li",{className:"list",children:(0,s.jsx)(ee,{to:"/categoria",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"icon",children:(0,s.jsx)("ion-icon",{name:"storefront-outline"})}),(0,s.jsx)("span",{className:"text",children:"Categorias"})]})})}),(0,s.jsx)("li",{className:"list",children:(0,s.jsx)(ee,{to:"/ofertas",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"icon",children:(0,s.jsx)("ion-icon",{name:"cash-outline"})}),(0,s.jsx)("span",{className:"text",children:"Ofertas"})]})})}),(0,s.jsx)("li",{className:"list",children:(0,s.jsx)(ee,{to:"/usuario",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"icon",children:(0,s.jsx)("ion-icon",{name:"people-outline"})}),(0,s.jsx)("span",{className:"text",children:"Usuario"})]})})}),(0,s.jsx)("li",{className:"list",children:(0,s.jsx)(ee,{to:"/carrito",children:(0,s.jsx)(h,{inicial:t})})}),(0,s.jsx)("li",{className:"list",children:(0,s.jsx)(ee,{to:"/ordenes",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"icon",children:(0,s.jsx)("ion-icon",{name:"bookmarks-outline"})}),(0,s.jsx)("span",{className:"text",children:"Ordenes"})]})})}),(0,s.jsx)("div",{className:"indicator"})]})]})})};function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(t){var n=t.inicial,r=t.maximoStock,i=t.onAdd;console.log(n),console.log(r);var o=a((0,e.useState)(n),2),u=o[0],l=o[1];(0,e.useEffect)((function(){console.log("Se modifico el count.")}),[u]);return console.log("Montando componente."),(0,s.jsxs)("div",{className:"container-counter",children:[(0,s.jsx)("div",{className:"button-counter",onClick:function(){u>=n?l(u-1):console.log("M\xednimo stock.")},children:(0,s.jsx)("ion-icon",{name:"remove-circle-outline"})}),(0,s.jsx)("h4",{children:u}),(0,s.jsx)("div",{className:"button-counter",onClick:function(){u<r?l(u+1):console.log("M\xe1ximo stock.")},children:(0,s.jsx)("ion-icon",{name:"add-circle-outline"})}),(0,s.jsx)("div",{className:"button-counter",onClick:function(){i(u),l(n)},children:(0,s.jsx)("ion-icon",{name:"bag-add-outline"})}),(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"cantidad-stock",children:["Stock: ",r," u."]})})]})},oe=function(e){var t=e.id,n=e.nombre,r=e.descripcion_breve,i=e.precio,a=e.link_imagen,o=e.stock,u=e.categoria,l=e.precioOferta;return(0,s.jsx)(ee,{to:"/detail/".concat(t),children:(0,s.jsx)("div",{className:"container-item",children:(0,s.jsx)("div",{className:"container page-wrapper",children:(0,s.jsx)("div",{className:"page-inner",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsxs)("div",{className:"el-wrapper",children:[(0,s.jsxs)("div",{className:"box-up",children:[(0,s.jsx)("img",{className:"img",src:a,alt:n}),(0,s.jsxs)("div",{className:"img-info",children:[(0,s.jsxs)("div",{className:"info-inner",children:[(0,s.jsx)("span",{className:"p-name",children:n}),(0,s.jsx)("span",{className:"p-company",children:u})]}),(0,s.jsx)("div",{className:"a-size",children:r})]})]}),(0,s.jsxs)("div",{className:"box-down",children:[(0,s.jsx)("div",{className:"h-bg",children:(0,s.jsx)("div",{className:"h-bg-inner"})}),(0,s.jsx)("span",{className:"price",children:""===l?"":"Oferta!!"}),(0,s.jsxs)("div",{className:"cart",href:"#",children:[(0,s.jsxs)("span",{className:"price",children:["$",""===l?i:l]}),(0,s.jsx)("span",{className:"add-to-cart",children:(0,s.jsxs)("span",{className:"txt",children:["Stock: ",o," u."]})})]})]})]})})})})})})},ue=function(e){var t=e.productos;return(0,s.jsx)("div",{className:"container-itemList",children:t.map((function(e){return(0,s.jsx)(oe,ie({},e),e.id)}))})},se=function(){return(0,s.jsx)("div",{className:"loader-container",children:(0,s.jsxs)("div",{className:"loader",children:[(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{}),(0,s.jsx)("span",{})]})})};function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fe(e,t,n){return fe=ce()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&le(i,n.prototype),i},fe.apply(null,arguments)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function de(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}function pe(){return pe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=de(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pe.apply(this,arguments)}function ve(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function me(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){me(a,r,i,o,u,"next",e)}function u(e){me(a,r,i,o,u,"throw",e)}o(void 0)}))}}function ge(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t){if(t&&("object"===ke(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return be(e)}function Ee(e){var t=ce();return function(){var n,r=he(e);if(t){var i=he(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return we(this,n)}}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _e=n(757),Ce=n.n(_e);function Ne(e){var t="function"===typeof Map?new Map:void 0;return Ne=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return fe(e,arguments,he(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),le(n,e)},Ne(e)}var Ie=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ie(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},De=function(e){return function(e){var t=Ie(e);return Ae.encodeByteArray(t,!0)}(e).replace(/\./g,"")};var Le=function(){function e(){var t=this;xe(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Te(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Oe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var Pe=function(e){ge(n,e);var t=Ee(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(be(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(be(a),je.prototype.create),a}return Te(n)}(Ne(Error)),je=function(){function e(t,n,r){xe(this,e),this.service=t,this.serviceName=n,this.errors=r}return Te(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Re(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Pe(n,a,t);return o}}]),e}();function Re(e,t){return e.replace(Me,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Me=/\{\$([^}]+)}/g;function Fe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ve(u)&&Ve(s)){if(!Fe(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Ve(e){return null!==e&&"object"===typeof e}function Ue(e){return e&&e._delegate?e._delegate:e}function Be(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var ze=function(){function e(t){xe(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Te(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new qe(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new He(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),qe=function(){function e(t){var n=this;xe(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Te(e,[{key:"objectStore",value:function(e){return new He(this._transaction.objectStore(e))}}]),e}(),He=function(){function e(t){xe(this,e),this._store=t}return Te(e,[{key:"index",value:function(e){return new Ke(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Ke(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Be(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Be(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Be(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Be(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Ke=function(){function e(t){xe(this,e),this._index=t}return Te(e,[{key:"get",value:function(e){return Be(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var We=function(){function e(t,n,r){xe(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Te(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ge="[DEFAULT]",Qe=function(){function e(t,n){xe(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Te(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Le;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ge})}catch(l){}var t,n=ve(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ye(_e.mark((function e(){var t;return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(o(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),o(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=ve(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=a(i.value,2),l=s[0],c=s[1],f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ve(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Sh){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ge?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Sh){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.component?this.component.multipleInstances?e:Ge:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var $e,Ye,Xe=function(){function e(t){xe(this,e),this.name=t,this.providers=new Map}return Te(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Qe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Je=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ye||(Ye={}));var Ze,et,tt={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},nt=Ye.INFO,rt=(ne($e={},Ye.DEBUG,"log"),ne($e,Ye.VERBOSE,"log"),ne($e,Ye.INFO,"info"),ne($e,Ye.WARN,"warn"),ne($e,Ye.ERROR,"error"),$e),it=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=rt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},at=function(){function e(t){xe(this,e),this.name=t,this._logLevel=nt,this._logHandler=it,this._userLogHandler=null,Je.push(this)}return Te(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ye))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?tt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ye.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ye.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ye.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ye.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ye.INFO].concat(t)),this._logHandler.apply(this,[this,Ye.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ye.WARN].concat(t)),this._logHandler.apply(this,[this,Ye.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ye.ERROR].concat(t)),this._logHandler.apply(this,[this,Ye.ERROR].concat(t))}}]),e}();var ot=function(){function e(t){xe(this,e),this.container=t}return Te(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ut="@firebase/app",st="0.7.21",lt=new at("@firebase/app"),ct="[DEFAULT]",ft=(ne(Ze={},ut,"fire-core"),ne(Ze,"@firebase/app-compat","fire-core-compat"),ne(Ze,"@firebase/analytics","fire-analytics"),ne(Ze,"@firebase/analytics-compat","fire-analytics-compat"),ne(Ze,"@firebase/app-check","fire-app-check"),ne(Ze,"@firebase/app-check-compat","fire-app-check-compat"),ne(Ze,"@firebase/auth","fire-auth"),ne(Ze,"@firebase/auth-compat","fire-auth-compat"),ne(Ze,"@firebase/database","fire-rtdb"),ne(Ze,"@firebase/database-compat","fire-rtdb-compat"),ne(Ze,"@firebase/functions","fire-fn"),ne(Ze,"@firebase/functions-compat","fire-fn-compat"),ne(Ze,"@firebase/installations","fire-iid"),ne(Ze,"@firebase/installations-compat","fire-iid-compat"),ne(Ze,"@firebase/messaging","fire-fcm"),ne(Ze,"@firebase/messaging-compat","fire-fcm-compat"),ne(Ze,"@firebase/performance","fire-perf"),ne(Ze,"@firebase/performance-compat","fire-perf-compat"),ne(Ze,"@firebase/remote-config","fire-rc"),ne(Ze,"@firebase/remote-config-compat","fire-rc-compat"),ne(Ze,"@firebase/storage","fire-gcs"),ne(Ze,"@firebase/storage-compat","fire-gcs-compat"),ne(Ze,"@firebase/firestore","fire-fst"),ne(Ze,"@firebase/firestore-compat","fire-fst-compat"),ne(Ze,"fire-js","fire-js"),ne(Ze,"firebase","fire-js-all"),Ze),ht=new Map,dt=new Map;function pt(e,t){try{e.container.addComponent(t)}catch(n){lt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vt(e){var t=e.name;if(dt.has(t))return lt.debug("There were multiple attempts to register component ".concat(t,".")),!1;dt.set(t,e);var n,r=ve(ht.values());try{for(r.s();!(n=r.n()).done;){pt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function mt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var yt=(ne(et={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ne(et,"bad-app-name","Illegal App name: '{$appName}"),ne(et,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ne(et,"app-deleted","Firebase App named '{$appName}' already deleted"),ne(et,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ne(et,"invalid-log-argument","First argument to `onLog` must be null or a function."),ne(et,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ne(et,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ne(et,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ne(et,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),et),gt=new je("app","Firebase",yt),kt=function(){function e(t,n,r){var i=this;xe(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new We("app",(function(){return i}),"PUBLIC"))}return Te(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}]),e}();function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=ht.get(e);if(!t)throw gt.create("no-app",{appName:e});return t}function wt(e,t,n){var r,i=null!==(r=ft[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void lt.warn(u.join(" "))}vt(new We("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Et="firebase-heartbeat-store",xt=null;function St(){var e,t,n;return xt||(xt=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Et)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new ze(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new ze(a.result),e.oldVersion,e.newVersion,new qe(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw gt.create("storage-open",{originalErrorMessage:e.message})}))),xt}function Tt(e){return _t.apply(this,arguments)}function _t(){return _t=ye(_e.mark((function e(t){var n;return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St();case 3:return n=e.sent,e.abrupt("return",n.transaction(Et).objectStore(Et).get(It(t)));case 7:throw e.prev=7,e.t0=e.catch(0),gt.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),_t.apply(this,arguments)}function Ct(e,t){return Nt.apply(this,arguments)}function Nt(){return Nt=ye(_e.mark((function e(t,n){var r,i,a;return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St();case 3:return r=e.sent,i=r.transaction(Et,"readwrite"),a=i.objectStore(Et),e.next=8,a.put(n,It(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),gt.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Nt.apply(this,arguments)}function It(e){return"".concat(e.name,"!").concat(e.options.appId)}var At=function(){function e(t){var n=this;xe(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Pt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Te(e,[{key:"triggerHeartbeat",value:function(){var e=ye(_e.mark((function e(){var t,n,r;return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Dt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ye(_e.mark((function e(){var t,n,r,i,a;return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Dt(),n=Lt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=De(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dt(){return(new Date).toISOString().substring(0,10)}function Lt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ve(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),jt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),jt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ot,Pt=function(){function e(t){xe(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Te(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ye(_e.mark((function e(){return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ye(_e.mark((function e(){var t;return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Tt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ye(_e.mark((function e(t){var n,r;return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ct(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ye(_e.mark((function e(t){var n,r;return _e.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ct(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(o(r.heartbeats),o(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function jt(e){return De(JSON.stringify({version:2,heartbeats:e})).length}Ot="",vt(new We("platform-logger",(function(e){return new ot(e)}),"PRIVATE")),vt(new We("heartbeat",(function(e){return new At(e)}),"PRIVATE")),wt(ut,st,Ot),wt(ut,st,"esm2017"),wt("fire-js","");var Rt,Mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ft={},Vt=Vt||{},Ut=Mt||self;function Bt(){}function zt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ht="closure_uid_"+(1e9*Math.random()>>>0),Kt=0;function Wt(e,t,n){return e.call.apply(e.bind,arguments)}function Gt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qt(e,t,n){return(Qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wt:Gt).apply(null,arguments)}function $t(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Yt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Xt(){this.s=this.s,this.o=this.o}var Jt={};Xt.prototype.s=!1,Xt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ht)&&e[Ht]||(e[Ht]=++Kt)}(this);delete Jt[e]}},Xt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},en=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function tn(e){return Array.prototype.concat.apply([],arguments)}function nn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function rn(e){return/^[\s\xa0]*$/.test(e)}var an,on=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function un(e,t){return-1!=e.indexOf(t)}function sn(e,t){return e<t?-1:e>t?1:0}e:{var ln=Ut.navigator;if(ln){var cn=ln.userAgent;if(cn){an=cn;break e}}an=""}function fn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function hn(e){var t={};for(var n in e)t[n]=e[n];return t}var dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<dn.length;a++)n=dn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vn(e){return vn[" "](e),e}vn[" "]=Bt;var mn,yn=un(an,"Opera"),gn=un(an,"Trident")||un(an,"MSIE"),kn=un(an,"Edge"),bn=kn||gn,wn=un(an,"Gecko")&&!(un(an.toLowerCase(),"webkit")&&!un(an,"Edge"))&&!(un(an,"Trident")||un(an,"MSIE"))&&!un(an,"Edge"),En=un(an.toLowerCase(),"webkit")&&!un(an,"Edge");function xn(){var e=Ut.document;return e?e.documentMode:void 0}e:{var Sn="",Tn=function(){var e=an;return wn?/rv:([^\);]+)(\)|;)/.exec(e):kn?/Edge\/([\d\.]+)/.exec(e):gn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):En?/WebKit\/(\S+)/.exec(e):yn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Tn&&(Sn=Tn?Tn[1]:""),gn){var _n=xn();if(null!=_n&&_n>parseFloat(Sn)){mn=String(_n);break e}}mn=Sn}var Cn,Nn={};function In(){return function(e){var t=Nn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=on(String(mn)).split("."),n=on("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=sn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||sn(0==a[2].length,0==o[2].length)||sn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ut.document&&gn){var An=xn();Cn=An||(parseInt(mn,10)||void 0)}else Cn=void 0;var Dn=Cn,Ln=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ut.addEventListener("test",Bt,t),Ut.removeEventListener("test",Bt,t)}catch(n){}return e}();function On(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Pn(e,t){if(On.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(wn){e:{try{vn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:jn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pn.Z.h.call(this)}}On.prototype.h=function(){this.defaultPrevented=!0},Yt(Pn,On);var jn={2:"touch",3:"pen",4:"mouse"};Pn.prototype.h=function(){Pn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Rn="closure_listenable_"+(1e6*Math.random()|0),Mn=0;function Fn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Mn,this.ca=this.fa=!1}function Vn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Un(e){this.src=e,this.g={},this.h=0}function Bn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Zt(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Vn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function zn(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Un.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=zn(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Fn(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var qn="closure_lm_"+(1e6*Math.random()|0),Hn={};function Kn(e,t,n,r,i){if(r&&r.once)return Gn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Kn(e,t[a],n,r,i);return null}return n=er(n),e&&e[Rn]?e.N(t,n,qt(r)?!!r.capture:!!r,i):Wn(e,t,n,!1,r,i)}function Wn(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=qt(i)?!!i.capture:!!i,u=Jn(e);if(u||(e[qn]=u=new Un(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Xn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ln||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Gn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gn(e,t[a],n,r,i);return null}return n=er(n),e&&e[Rn]?e.O(t,n,qt(r)?!!r.capture:!!r,i):Wn(e,t,n,!0,r,i)}function Qn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Qn(e,t[a],n,r,i);else r=qt(r)?!!r.capture:!!r,n=er(n),e&&e[Rn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=zn(a=e.g[t],n,r,i))&&(Vn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Jn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zn(t,n,r,i)),(n=-1<e?t[e]:null)&&$n(n))}function $n(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Rn])Bn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jn(t))?(Bn(n,e),0==n.h&&(n.src=null,t[qn]=null)):Vn(e)}}}function Yn(e){return e in Hn?Hn[e]:Hn[e]="on"+e}function Xn(e,t){if(e.ca)e=!0;else{t=new Pn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&$n(e),e=n.call(r,t)}return e}function Jn(e){return(e=e[qn])instanceof Un?e:null}var Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function er(e){return"function"===typeof e?e:(e[Zn]||(e[Zn]=function(t){return e.handleEvent(t)}),e[Zn])}function tr(){Xt.call(this),this.i=new Un(this),this.P=this,this.I=null}function nr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new On(t,e);else if(t instanceof On)t.target=t.target||e;else{var i=t;pn(t=new On(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=rr(o,r,!0,t)&&i}if(i=rr(o=t.g=e,r,!0,t)&&i,i=rr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=rr(o=t.g=n[a],r,!1,t)&&i}function rr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Bn(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Yt(tr,Xt),tr.prototype[Rn]=!0,tr.prototype.removeEventListener=function(e,t,n,r){Qn(this,e,t,n,r)},tr.prototype.M=function(){if(tr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vn(n[r]);delete t.g[e],t.h--}}this.I=null},tr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},tr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ir=Ut.JSON.stringify;function ar(){var e=dr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var or,ur=function(){function e(){xe(this,e),this.h=this.g=null}return Te(e,[{key:"add",value:function(e,t){var n=sr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),sr=new(function(){function e(t,n){xe(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Te(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new lr}),(function(e){return e.reset()})),lr=function(){function e(){xe(this,e),this.next=this.g=this.h=null}return Te(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function cr(e){Ut.setTimeout((function(){throw e}),0)}function fr(e,t){or||function(){var e=Ut.Promise.resolve(void 0);or=function(){e.then(pr)}}(),hr||(or(),hr=!0),dr.add(e,t)}var hr=!1,dr=new ur;function pr(){for(var e;e=ar();){try{e.h.call(e.g)}catch(n){cr(n)}var t=sr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}hr=!1}function vr(e,t){tr.call(this),this.h=e||1,this.g=t||Ut,this.j=Qt(this.kb,this),this.l=Date.now()}function mr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function yr(e,t,n){if("function"===typeof e)n&&(e=Qt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ut.setTimeout(e,t||0)}function gr(e){e.g=yr((function(){e.g=null,e.i&&(e.i=!1,gr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Yt(vr,tr),(Rt=vr.prototype).da=!1,Rt.S=null,Rt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nr(this,"tick"),this.da&&(mr(this),this.start()))}},Rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rt.M=function(){vr.Z.M.call(this),mr(this),delete this.g};var kr=function(e){ge(n,e);var t=Ee(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Te(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gr(this)}},{key:"M",value:function(){pe(he(n.prototype),"M",this).call(this),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Xt);function br(e){Xt.call(this),this.h=e,this.g={}}Yt(br,Xt);var wr=[];function Er(e,t,n,r){Array.isArray(n)||(n&&(wr[0]=n.toString()),n=wr);for(var i=0;i<n.length;i++){var a=Kn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function xr(e){fn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$n(e)}),e),e.g={}}function Sr(){this.g=!0}function Tr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ir(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}br.prototype.M=function(){br.Z.M.call(this),xr(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sr.prototype.Aa=function(){this.g=!1},Sr.prototype.info=function(){};var _r={},Cr=null;function Nr(){return Cr=Cr||new tr}function Ir(e){On.call(this,_r.Ma,e)}function Ar(e){var t=Nr();nr(t,new Ir(t,e))}function Dr(e,t){On.call(this,_r.STAT_EVENT,e),this.stat=t}function Lr(e){var t=Nr();nr(t,new Dr(t,e))}function Or(e,t){On.call(this,_r.Na,e),this.size=t}function Pr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ut.setTimeout((function(){e()}),t)}_r.Ma="serverreachability",Yt(Ir,On),_r.STAT_EVENT="statevent",Yt(Dr,On),_r.Na="timingevent",Yt(Or,On);var jr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mr(){}function Fr(e){return e.h||(e.h=e.i())}function Vr(){}Mr.prototype.h=null;var Ur,Br={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zr(){On.call(this,"d")}function qr(){On.call(this,"c")}function Hr(){}function Kr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new br(this),this.P=Gr,e=bn?125:void 0,this.W=new vr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Wr}function Wr(){this.i=null,this.g="",this.h=!1}Yt(zr,On),Yt(qr,On),Yt(Hr,Mr),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},Ur=new Hr;var Gr=45e3,Qr={},$r={};function Yr(e,t,n){e.K=1,e.v=ki(di(t)),e.s=n,e.U=!0,Xr(e,null)}function Xr(e,t){e.F=Date.now(),ti(e),e.A=di(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Li(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Wr,e.g=Pa(e.l,n?t:null,!e.s),0<e.O&&(e.L=new kr(Qt(e.Ia,e,e.g),e.O)),Er(e.V,e.g,"readystatechange",e.gb),t=e.H?hn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ar(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Jr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Zr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ei(e,n))==$r){4==t&&(e.o=4,Lr(14),i=!1),Tr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qr){e.o=4,Lr(15),Tr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Tr(e.j,e.m,r,null),oi(e,r)}Jr(e)&&r!=$r&&r!=Qr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Lr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_a(t),t.L=!0,Lr(11))):(Tr(e.j,e.m,n,"[Invalid Chunked Response]"),ai(e),ii(e))}function ei(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?$r:(n=Number(t.substring(n,r)),isNaN(n)?Qr:(r+=1)+n>t.length?$r:(t=t.substr(r,n),e.C=r+n,t))}function ti(e){e.Y=Date.now()+e.P,ni(e,e.P)}function ni(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Pr(Qt(e.eb,e),t)}function ri(e){e.B&&(Ut.clearTimeout(e.B),e.B=null)}function ii(e){0==e.l.G||e.I||Ia(e.l,e)}function ai(e){ri(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,mr(e.W),xr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function oi(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ui(n.i,e)))if(n.I=e.N,!e.J&&Ui(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Na(n),ya(n)}Ta(n),Lr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Pr(Qt(n.ab,n),6e3));if(1>=Vi(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Da(n,11)}else if((e.J||n.g==e)&&Na(n),!rn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(un(c,"spdy")||un(c,"quic")||un(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Bi(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,gi(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Oa(r,r.H?r.la:null,r.W),d.J){zi(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ri(p),ti(p)),r.g=d}else Sa(r);0<n.l.length&&ba(n)}else"stop"!=a[0]&&"close"!=a[0]||Da(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Da(n,7):ma(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ar(4)}catch(a){}}function ui(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zt(e)||"string"===typeof e)en(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(zt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(zt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function si(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof si)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function li(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ci(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ci(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ci(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Rt=Kr.prototype).setTimeout=function(e){this.P=e},Rt.gb=function(e){e=e.target;var t=this.L;t&&3==fa(e)?t.l():this.Ia(e)},Rt.Ia=function(e){try{if(e==this.g)e:{var t=fa(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||bn||this.g&&(this.h.h||this.g.ga()||ha(this.g)))){this.I||4!=t||7==n||Ar(8==n||0>=r?3:2),ri(this);var i=this.g.ba();this.N=i;t:if(Jr(this)){var a=ha(this.g);e="";var o=a.length,u=4==fa(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ai(this),ii(this);var s="";break t}this.h.i=new Ut.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rn(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Lr(12),ai(this),ii(this);break e}Tr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oi(this,i)}this.U?(Zr(this,t,s),bn&&this.i&&3==t&&(Er(this.V,this.W,"tick",this.fb),this.W.start())):(Tr(this.j,this.m,s,null),oi(this,s)),4==t&&ai(this),this.i&&!this.I&&(4==t?Ia(this.l,this):(this.i=!1,ti(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Lr(12)):(this.o=0,Lr(13)),ai(this),ii(this)}}}catch(t){}},Rt.fb=function(){if(this.g){var e=fa(this.g),t=this.g.ga();this.C<t.length&&(ri(this),Zr(this,e,t),this.i&&4!=e&&ti(this))}},Rt.cancel=function(){this.I=!0,ai(this)},Rt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ar(3),Lr(17)),ai(this),this.o=2,ii(this)):ni(this,this.Y-e)},(Rt=si.prototype).R=function(){li(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Rt.T=function(){return li(this),this.g.concat()},Rt.get=function(e,t){return ci(this.h,e)?this.h[e]:t},Rt.set=function(e,t){ci(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Rt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var fi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof hi){this.g=void 0!==t?t:e.g,pi(this,e.j),this.s=e.s,vi(this,e.i),mi(this,e.m),this.l=e.l,t=e.h;var n=new Ni;n.i=t.i,t.g&&(n.g=new si(t.g),n.h=t.h),yi(this,n),this.o=e.o}else e&&(n=String(e).match(fi))?(this.g=!!t,pi(this,n[1]||"",!0),this.s=bi(n[2]||""),vi(this,n[3]||"",!0),mi(this,n[4]),this.l=bi(n[5]||"",!0),yi(this,n[6]||"",!0),this.o=bi(n[7]||"")):(this.g=!!t,this.h=new Ni(null,this.g))}function di(e){return new hi(e)}function pi(e,t,n){e.j=n?bi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vi(e,t,n){e.i=n?bi(t,!0):t}function mi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function yi(e,t,n){t instanceof Ni?(e.h=t,function(e,t){t&&!e.j&&(Ii(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ai(this,t),Li(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=wi(t,_i)),e.h=new Ni(t,e.g))}function gi(e,t,n){e.h.set(t,n)}function ki(e){return gi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ei),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ei(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}hi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(wi(t,xi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(wi(t,xi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(wi(n,"/"==n.charAt(0)?Ti:Si,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",wi(n,Ci)),e.join("")};var xi=/[#\/\?@]/g,Si=/[#\?:]/g,Ti=/[#\?]/g,_i=/[#\?@]/g,Ci=/#/g;function Ni(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ii(e){e.g||(e.g=new si,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ai(e,t){Ii(e),t=Oi(e,t),ci(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ci((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&li(e)))}function Di(e,t){return Ii(e),t=Oi(e,t),ci(e.g.h,t)}function Li(e,t,n){Ai(e,t),0<n.length&&(e.i=null,e.g.set(Oi(e,t),nn(n)),e.h+=n.length)}function Oi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Rt=Ni.prototype).add=function(e,t){Ii(this),this.i=null,e=Oi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Rt.forEach=function(e,t){Ii(this),this.g.forEach((function(n,r){en(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Rt.T=function(){Ii(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Rt.R=function(e){Ii(this);var t=[];if("string"===typeof e)Di(this,e)&&(t=tn(t,this.g.get(Oi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=tn(t,e[n])}return t},Rt.set=function(e,t){return Ii(this),this.i=null,Di(this,e=Oi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Rt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Pi=Te((function e(t,n){xe(this,e),this.h=t,this.g=n}));function ji(e){this.l=e||Mi,Ut.PerformanceNavigationTiming?e=0<(e=Ut.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ut.g&&Ut.g.Ea&&Ut.g.Ea()&&Ut.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ri,Mi=10;function Fi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Vi(e){return e.h?1:e.g?e.g.size:0}function Ui(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Bi(e,t){e.g?e.g.add(t):e.h=t}function zi(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qi(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ve(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return nn(e.i)}function Hi(){}function Ki(){this.g=new Hi}function Wi(e,t,n){var r=n||"";try{ui(e,(function(e,n){var i=e;qt(e)&&(i=ir(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Qi(e){this.l=e.$b||null,this.j=e.ib||!1}function $i(e,t){tr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Yi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ji.prototype.cancel=function(){if(this.i=qi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ve(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Hi.prototype.stringify=function(e){return Ut.JSON.stringify(e,void 0)},Hi.prototype.parse=function(e){return Ut.JSON.parse(e,void 0)},Yt(Qi,Mr),Qi.prototype.g=function(){return new $i(this.l,this.j)},Qi.prototype.i=(Ri={},function(){return Ri}),Yt($i,tr);var Yi=0;function Xi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ji(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zi(e)}function Zi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Rt=$i.prototype).open=function(e,t){if(this.readyState!=Yi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zi(this)},Rt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ut).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ji(this)),this.readyState=Yi},Rt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ut.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Rt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ji(this):Zi(this),3==this.readyState&&Xi(this)}},Rt.Ua=function(e){this.g&&(this.response=this.responseText=e,Ji(this))},Rt.Ta=function(e){this.g&&(this.response=e,Ji(this))},Rt.ha=function(){this.g&&Ji(this)},Rt.setRequestHeader=function(e,t){this.v.append(e,t)},Rt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Rt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($i.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ea=Ut.JSON.parse;function ta(e){tr.call(this),this.headers=new si,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=na,this.K=this.L=!1}Yt(ta,tr);var na="",ra=/^https?$/i,ia=["POST","PUT"];function aa(e){return"content-type"==e.toLowerCase()}function oa(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ua(e),la(e)}function ua(e){e.D||(e.D=!0,nr(e,"complete"),nr(e,"error"))}function sa(e){if(e.h&&"undefined"!=typeof Vt&&(!e.C[1]||4!=fa(e)||2!=e.ba()))if(e.v&&4==fa(e))yr(e.Fa,0,e);else if(nr(e,"readystatechange"),4==fa(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(fi)[1]||null;if(!a&&Ut.self&&Ut.self.location){var o=Ut.self.location.protocol;a=o.substr(0,o.length-1)}i=!ra.test(a?a.toLowerCase():"")}t=i}if(t)nr(e,"complete"),nr(e,"success");else{e.m=6;try{var u=2<fa(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",ua(e)}}finally{la(e)}}}function la(e,t){if(e.g){ca(e);var n=e.g,r=e.C[0]?Bt:null;e.g=null,e.C=null,t||nr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ca(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ut.clearTimeout(e.A),e.A=null)}function fa(e){return e.g?e.g.readyState:0}function ha(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case na:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function da(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return fn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gi(e,t,n))}function pa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function va(e){this.za=0,this.l=[],this.h=new Sr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pa("baseRetryDelayMs",5e3,e),this.$a=pa("retryDelaySeedMs",1e4,e),this.Ya=pa("forwardChannelMaxRetries",2,e),this.ra=pa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ji(e&&e.concurrentRequestLimit),this.Ca=new Ki,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ma(e){if(ga(e),3==e.G){var t=e.V++,n=di(e.F);gi(n,"SID",e.J),gi(n,"RID",t),gi(n,"TYPE","terminate"),Ea(e,n),(t=new Kr(e,e.h,t,void 0)).K=2,t.v=ki(di(n)),n=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(n=Ut.navigator.sendBeacon(t.v.toString(),"")),!n&&Ut.Image&&((new Image).src=t.v,n=!0),n||(t.g=Pa(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ti(t)}La(e)}function ya(e){e.g&&(_a(e),e.g.cancel(),e.g=null)}function ga(e){ya(e),e.u&&(Ut.clearTimeout(e.u),e.u=null),Na(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ut.clearTimeout(e.m),e.m=null)}function ka(e,t){e.l.push(new Pi(e.Za++,t)),3==e.G&&ba(e)}function ba(e){Fi(e.i)||e.m||(e.m=!0,fr(e.Ha,e),e.C=0)}function wa(e,t){var n;n=t?t.m:e.V++;var r=di(e.F);gi(r,"SID",e.J),gi(r,"RID",n),gi(r,"AID",e.U),Ea(e,r),e.o&&e.s&&da(r,e.o,e.s),n=new Kr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=xa(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Bi(e.i,n),Yr(n,r,t)}function Ea(e,t){e.j&&ui({},(function(e,n){gi(t,n,e)}))}function xa(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Qt(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Wi(c,o,"req"+l+"_")}catch(so){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Sa(e){e.g||e.u||(e.Y=1,fr(e.Ga,e),e.A=0)}function Ta(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Pr(Qt(e.Ga,e),Aa(e,e.A)),e.A++,!0)}function _a(e){null!=e.B&&(Ut.clearTimeout(e.B),e.B=null)}function Ca(e){e.g=new Kr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=di(e.oa);gi(t,"RID","rpc"),gi(t,"SID",e.J),gi(t,"CI",e.N?"0":"1"),gi(t,"AID",e.U),Ea(e,t),gi(t,"TYPE","xmlhttp"),e.o&&e.s&&da(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ki(di(t)),n.s=null,n.U=!0,Xr(n,e)}function Na(e){null!=e.v&&(Ut.clearTimeout(e.v),e.v=null)}function Ia(e,t){var n=null;if(e.g==t){Na(e),_a(e),e.g=null;var r=2}else{if(!Ui(e.i,t))return;n=t.D,zi(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;nr(r=Nr(),new Or(r,n,t,i)),ba(e)}else Sa(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Vi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Pr(Qt(e.Ha,e,t),Aa(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ta(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Da(e,5);break;case 4:Da(e,10);break;case 3:Da(e,6);break;default:Da(e,2)}}function Aa(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Da(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Qt(e.jb,e);n||(n=new hi("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||pi(n,"https"),ki(n)),function(e,t){var n=new Sr;if(Ut.Image){var r=new Image;r.onload=$t(Gi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=$t(Gi,n,r,"TestLoadImage: error",!1,t),r.onabort=$t(Gi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=$t(Gi,n,r,"TestLoadImage: timeout",!1,t),Ut.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Lr(2);e.G=0,e.j&&e.j.va(t),La(e),ga(e)}function La(e){e.G=0,e.I=-1,e.j&&(0==qi(e.i).length&&0==e.l.length||(e.i.i.length=0,nn(e.l),e.l.length=0),e.j.ua())}function Oa(e,t,n){var r=function(e){return e instanceof hi?di(e):new hi(e,void 0)}(n);if(""!=r.i)t&&vi(r,t+"."+r.i),mi(r,r.m);else{var i=Ut.location;r=function(e,t,n,r){var i=new hi(null,void 0);return e&&pi(i,e),t&&vi(i,t),n&&mi(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&fn(e.aa,(function(e,t){gi(r,t,e)})),t=e.D,n=e.sa,t&&n&&gi(r,t,n),gi(r,"VER",e.ma),Ea(e,r),r}function Pa(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ta(new Qi({ib:!0})):new ta(e.qa)).L=e.H,t}function ja(){}function Ra(){if(gn&&!(10<=Number(Dn)))throw Error("Environmental error: no available transport.")}function Ma(e,t){tr.call(this),this.g=new va(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!rn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ua(this)}function Fa(e){zr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Va(){qr.call(this),this.status=1}function Ua(e){this.g=e}(Rt=ta.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ur.g(),this.C=this.u?Fr(this.u):Fr(Ur),this.g.onreadystatechange=Qt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void oa(this,a)}e=n||"";var i=new si(this.headers);r&&ui(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=aa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ut.FormData&&e instanceof Ut.FormData,!(0<=Zt(ia,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ca(this),0<this.B&&((this.K=function(e){return gn&&In()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qt(this.pa,this)):this.A=yr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){oa(this,a)}},Rt.pa=function(){"undefined"!=typeof Vt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nr(this,"timeout"),this.abort(8))},Rt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nr(this,"complete"),nr(this,"abort"),la(this))},Rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),la(this,!0)),ta.Z.M.call(this)},Rt.Fa=function(){this.s||(this.F||this.v||this.l?sa(this):this.cb())},Rt.cb=function(){sa(this)},Rt.ba=function(){try{return 2<fa(this)?this.g.status:-1}catch(Ri){return-1}},Rt.ga=function(){try{return this.g?this.g.responseText:""}catch(Ri){return""}},Rt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ea(t)}},Rt.Da=function(){return this.m},Rt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Rt=va.prototype).ma=8,Rt.G=1,Rt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Rt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Kr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?pn(n=hn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=xa(this,t,r),gi(i=di(this.F),"RID",e),gi(i,"CVER",22),this.D&&gi(i,"X-HTTP-Session-Id",this.D),Ea(this,i),this.o&&n&&da(i,this.o,n),Bi(this.i,t),this.Ra&&gi(i,"TYPE","init"),this.ja?(gi(i,"$req",r),gi(i,"SID","null"),t.$=!0,Yr(t,i,null)):Yr(t,i,r),this.G=2}}else 3==this.G&&(e?wa(this,e):0==this.l.length||Fi(this.i)||wa(this))},Rt.Ga=function(){if(this.u=null,Ca(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Pr(Qt(this.bb,this),e)}},Rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Lr(10),ya(this),Ca(this))},Rt.ab=function(){null!=this.v&&(this.v=null,ya(this),Ta(this),Lr(19))},Rt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Lr(2)):(this.h.info("Failed to ping google.com"),Lr(1))},(Rt=ja.prototype).xa=function(){},Rt.wa=function(){},Rt.va=function(){},Rt.ua=function(){},Rt.Oa=function(){},Ra.prototype.g=function(e,t){return new Ma(e,t)},Yt(Ma,tr),Ma.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),fr(Qt(e.hb,e,t))),Lr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Oa(e,null,e.W),ba(e)},Ma.prototype.close=function(){ma(this.g)},Ma.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ka(this.g,t)}else this.v?((t={}).__data__=ir(e),ka(this.g,t)):ka(this.g,e)},Ma.prototype.M=function(){this.g.j=null,delete this.j,ma(this.g),delete this.g,Ma.Z.M.call(this)},Yt(Fa,zr),Yt(Va,qr),Yt(Ua,ja),Ua.prototype.xa=function(){nr(this.g,"a")},Ua.prototype.wa=function(e){nr(this.g,new Fa(e))},Ua.prototype.va=function(e){nr(this.g,new Va(e))},Ua.prototype.ua=function(){nr(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,Ma.prototype.send=Ma.prototype.u,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,Rr.COMPLETE="complete",Vr.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",tr.prototype.listen=tr.prototype.N,ta.prototype.listenOnce=ta.prototype.O,ta.prototype.getLastError=ta.prototype.La,ta.prototype.getLastErrorCode=ta.prototype.Da,ta.prototype.getStatus=ta.prototype.ba,ta.prototype.getResponseJson=ta.prototype.Qa,ta.prototype.getResponseText=ta.prototype.ga,ta.prototype.send=ta.prototype.ea;var Ba=Ft.createWebChannelTransport=function(){return new Ra},za=Ft.getStatEventTarget=function(){return Nr()},qa=Ft.ErrorCode=jr,Ha=Ft.EventType=Rr,Ka=Ft.Event=_r,Wa=Ft.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ga=Ft.FetchXmlHttpFactory=Qi,Qa=Ft.WebChannel=Vr,$a=Ft.XhrIo=ta,Ya="@firebase/firestore",Xa=function(){function e(t){xe(this,e),this.uid=t}return Te(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Xa.UNAUTHENTICATED=new Xa(null),Xa.GOOGLE_CREDENTIALS=new Xa("google-credentials-uid"),Xa.FIRST_PARTY=new Xa("first-party-uid"),Xa.MOCK_USER=new Xa("mock-user");var Ja="9.6.11",Za=new at("@firebase/firestore");function eo(){return Za.logLevel}function to(e){if(Za.logLevel<=Ye.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(io);Za.debug.apply(Za,["Firestore (".concat(Ja,"): ").concat(e)].concat(o(i)))}}function no(e){if(Za.logLevel<=Ye.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(io);Za.error.apply(Za,["Firestore (".concat(Ja,"): ").concat(e)].concat(o(i)))}}function ro(e){if(Za.logLevel<=Ye.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(io);Za.warn.apply(Za,["Firestore (".concat(Ja,"): ").concat(e)].concat(o(i)))}}function io(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ja,") INTERNAL ASSERTION FAILED: ")+e;throw no(t),new Error(t)}function oo(e,t){e||ao()}function uo(e,t){return e}var so={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},lo=function(e){ge(n,e);var t=Ee(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Te(n)}(Pe),co=Te((function e(){var t=this;xe(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),fo=Te((function e(t,n){xe(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ho=function(){function e(){xe(this,e)}return Te(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Xa.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),po=function(){function e(t){xe(this,e),this.t=t,this.currentUser=Xa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Te(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new co;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new co,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ye(Ce().mark((function e(){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){to("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(to("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new co)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(to("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(oo("string"==typeof n.accessToken),new fo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return oo(null===e||"string"==typeof e),new Xa(e)}}]),e}(),vo=Te((function e(t,n,r){xe(this,e),this.type="FirstParty",this.user=Xa.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),mo=function(){function e(t,n,r){xe(this,e),this.h=t,this.l=n,this.m=r}return Te(e,[{key:"getToken",value:function(){return Promise.resolve(new vo(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Xa.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),yo=Te((function e(t){xe(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),go=function(){function e(t){xe(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Te(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&to("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,to("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){to("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):to("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(oo("string"==typeof t.token),e.p=t.token,new yo(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),ko=function(){function e(t,n){var r=this;xe(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Te(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function bo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}ko.A=-1;var wo=function(){function e(){xe(this,e)}return Te(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=bo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Eo(e,t){return e<t?-1:e>t?1:0}function xo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var So=function(){function e(t,n){if(xe(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new lo(so.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lo(so.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new lo(so.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lo(so.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Te(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Eo(this.nanoseconds,e.nanoseconds):Eo(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),To=function(){function e(t){xe(this,e),this.timestamp=t}return Te(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new So(0,0))}},{key:"max",value:function(){return new e(new So(253402300799,999999999))}}]),e}();function _o(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Co(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function No(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Io=function(){function e(t,n,r){xe(this,e),void 0===n?n=0:n>t.length&&ao(),void 0===r?r=t.length-n:r>t.length-n&&ao(),this.segments=t,this.offset=n,this.len=r}return Te(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ao=function(e){ge(n,e);var t=Ee(n);function n(){return xe(this,n),t.apply(this,arguments)}return Te(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,u=r;a<u.length;a++){var s=u[a];if(s.indexOf("//")>=0)throw new lo(so.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,o(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Io),Do=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lo=function(e){ge(n,e);var t=Ee(n);function n(){return xe(this,n),t.apply(this,arguments)}return Te(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Do.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new lo(so.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new lo(so.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new lo(so.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new lo(so.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Io),Oo=function(){function e(t){xe(this,e),this.fields=t,t.sort(Lo.comparator)}return Te(e,[{key:"covers",value:function(e){var t,n=ve(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return xo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Po=function(e){function t(e){xe(this,t),this.binaryString=e}return Te(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Eo(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Po.EMPTY_BYTE_STRING=new Po("");var jo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(e){if(oo(!!e),"string"==typeof e){var t=0,n=jo.exec(e);if(oo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mo(e.seconds),nanos:Mo(e.nanos)}}function Mo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fo(e){return"string"==typeof e?Po.fromBase64String(e):Po.fromUint8Array(e)}function Vo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Uo(e){var t=e.mapValue.fields.__previous_value__;return Vo(t)?Uo(t):t}function Bo(e){var t=Ro(e.mapValue.fields.__local_write_time__.timestampValue);return new So(t.seconds,t.nanos)}var zo=Te((function e(t,n,r,i,a,o,u,s){xe(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),qo=function(){function e(t,n){xe(this,e),this.projectId=t,this.database=n||"(default)"}return Te(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ho(e){return null==e}function Ko(e){return 0===e&&1/e==-1/0}function Wo(e){return"number"==typeof e&&Number.isInteger(e)&&!Ko(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Go=function(){function e(t){xe(this,e),this.path=t}return Te(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ao.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ao.fromString(t))}},{key:"fromName",value:function(t){return new e(Ao.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ao.emptyPath())}},{key:"comparator",value:function(e,t){return Ao.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ao(t.slice()))}}]),e}();function Qo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vo(e)?4:su(e)?9:10:ao()}function $o(e,t){if(e===t)return!0;var n=Qo(e);if(n!==Qo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bo(e).isEqual(Bo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ro(e.timestampValue),r=Ro(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fo(e.bytesValue).isEqual(Fo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mo(e.geoPointValue.latitude)===Mo(t.geoPointValue.latitude)&&Mo(e.geoPointValue.longitude)===Mo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mo(e.integerValue)===Mo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Mo(e.doubleValue),r=Mo(t.doubleValue);return n===r?Ko(n)===Ko(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xo(e.arrayValue.values||[],t.arrayValue.values||[],$o);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_o(n)!==_o(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$o(n[i],r[i])))return!1;return!0}(e,t);default:return ao()}}function Yo(e,t){return void 0!==(e.values||[]).find((function(e){return $o(e,t)}))}function Xo(e,t){if(e===t)return 0;var n=Qo(e),r=Qo(t);if(n!==r)return Eo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Eo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Mo(e.integerValue||e.doubleValue),r=Mo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jo(e.timestampValue,t.timestampValue);case 4:return Jo(Bo(e),Bo(t));case 5:return Eo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Fo(e),r=Fo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Eo(n[i],r[i]);if(0!==a)return a}return Eo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Eo(Mo(e.latitude),Mo(t.latitude));return 0!==n?n:Eo(Mo(e.longitude),Mo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Xo(n[i],r[i]);if(a)return a}return Eo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Eo(r[o],a[o]);if(0!==u)return u;var s=Xo(n[r[o]],i[a[o]]);if(0!==s)return s}return Eo(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ao()}}function Jo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Eo(e,t);var n=Ro(e),r=Ro(t),i=Eo(n.seconds,r.seconds);return 0!==i?i:Eo(n.nanos,r.nanos)}function Zo(e){return eu(e)}function eu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ro(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Go.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ve(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=eu(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ve(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(eu(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ao();var t,n}function tu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function nu(e){return!!e&&"integerValue"in e}function ru(e){return!!e&&"arrayValue"in e}function iu(e){return!!e&&"nullValue"in e}function au(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ou(e){return!!e&&"mapValue"in e}function uu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Co(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=uu(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=uu(e.arrayValue.values[r]);return n}return Object.assign({},e)}function su(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var lu=function(){function e(t){xe(this,e),this.value=t}return Te(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ou(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}},{key:"setAll",value:function(e){var t=this,n=Lo.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=uu(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return $o(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ou(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Co(t,(function(t,n){return e[t]=n}));var r,i=ve(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(uu(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function cu(e){var t=[];return Co(e.fields,(function(e,n){var r=new Lo([e]);if(ou(n)){var i=cu(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ve(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Oo(t)}var fu=function(){function e(t,n,r,i,a,o){xe(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Te(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=lu.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=lu.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,To.min(),To.min(),lu.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,To.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,To.min(),lu.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,To.min(),lu.empty(),2)}}]),e}(),hu=Te((function e(t,n,r,i){xe(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));hu.UNKNOWN_ID=-1;function du(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=To.fromTimestamp(1e9===r?new So(n+1,0):new So(n,r));return new vu(i,Go.empty(),t)}function pu(e){return new vu(e.readTime,e.key,-1)}var vu=function(){function e(t,n,r){xe(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Te(e,null,[{key:"min",value:function(){return new e(To.min(),Go.empty(),-1)}},{key:"max",value:function(){return new e(To.max(),Go.empty(),-1)}}]),e}();function mu(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Go.comparator(e.documentKey,t.documentKey))?n:Eo(e.largestBatchId,t.largestBatchId)}var yu=Te((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;xe(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function gu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new yu(e,t,n,r,i,a,o)}function ku(e){var t=uo(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Zo(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ho(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Zo(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Zo(e)})).join(",")),t.P=n}return t.P}function bu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ou(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!$o(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ju(e.startAt,t.startAt)&&ju(e.endAt,t.endAt)}function wu(e){return Go.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Eu=function(e){ge(n,e);var t=Ee(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Te(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Xo(t,this.value)):null!==t&&Qo(this.value)===Qo(t)&&this.v(Xo(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ao()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new xu(e,t,r):"array-contains"===t?new Cu(e,r):"in"===t?new Nu(e,r):"not-in"===t?new Iu(e,r):"array-contains-any"===t?new Au(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Su(e,n):new Tu(e,n)}}]),n}(function(){return Te((function e(){xe(this,e)}))}()),xu=function(e){ge(n,e);var t=Ee(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this,e,r,i)).key=Go.fromName(i.referenceValue),a}return Te(n,[{key:"matches",value:function(e){var t=Go.comparator(e.key,this.key);return this.v(t)}}]),n}(Eu),Su=function(e){ge(n,e);var t=Ee(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,"in",r)).keys=_u("in",r),i}return Te(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Eu),Tu=function(e){ge(n,e);var t=Ee(n);function n(e,r){var i;return xe(this,n),(i=t.call(this,e,"not-in",r)).keys=_u("not-in",r),i}return Te(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Eu);function _u(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Go.fromName(e.referenceValue)}))}var Cu=function(e){ge(n,e);var t=Ee(n);function n(e,r){return xe(this,n),t.call(this,e,"array-contains",r)}return Te(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ru(t)&&Yo(t.arrayValue,this.value)}}]),n}(Eu),Nu=function(e){ge(n,e);var t=Ee(n);function n(e,r){return xe(this,n),t.call(this,e,"in",r)}return Te(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Yo(this.value.arrayValue,t)}}]),n}(Eu),Iu=function(e){ge(n,e);var t=Ee(n);function n(e,r){return xe(this,n),t.call(this,e,"not-in",r)}return Te(n,[{key:"matches",value:function(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Yo(this.value.arrayValue,t)}}]),n}(Eu),Au=function(e){ge(n,e);var t=Ee(n);function n(e,r){return xe(this,n),t.call(this,e,"array-contains-any",r)}return Te(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ru(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Yo(t.value.arrayValue,e)}))}}]),n}(Eu),Du=Te((function e(t,n){xe(this,e),this.position=t,this.inclusive=n})),Lu=Te((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";xe(this,e),this.field=t,this.dir=n}));function Ou(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Pu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Go.comparator(Go.fromName(o.referenceValue),n.key):Xo(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ju(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$o(e.position[n],t.position[n]))return!1;return!0}var Ru=Te((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;xe(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Mu(e,t,n,r,i,a,o,u){return new Ru(e,t,n,r,i,a,o,u)}function Fu(e){return new Ru(e)}function Vu(e){return!Ho(e.limit)&&"F"===e.limitType}function Uu(e){return!Ho(e.limit)&&"L"===e.limitType}function Bu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zu(e){var t,n=ve(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function qu(e){return null!==e.collectionGroup}function Hu(e){var t=uo(e);if(null===t.D){t.D=[];var n=zu(t),r=Bu(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Lu(n)),t.D.push(new Lu(Lo.keyField(),"asc"));else{var i,a=!1,o=ve(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Lu(Lo.keyField(),s))}}}return t.D}function Ku(e){var t=uo(e);if(!t.C)if("F"===t.limitType)t.C=gu(t.path,t.collectionGroup,Hu(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ve(Hu(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Lu(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new Du(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Du(t.startAt.position,!t.startAt.inclusive):null;t.C=gu(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Wu(e,t,n){return new Ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gu(e,t){return bu(Ku(e),Ku(t))&&e.limitType===t.limitType}function Qu(e){return"".concat(ku(Ku(e)),"|lt:").concat(e.limitType)}function $u(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Zo(t.value));var t})).join(", "),"]")),Ho(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Zo(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Zo(e)})).join(",")),"Target(".concat(t,")")}(Ku(e)),"; limitType=").concat(e.limitType,")")}function Yu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Go.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ve(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ve(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Pu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hu(e),t))&&!(e.endAt&&!function(e,t,n){var r=Pu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hu(e),t))}(e,t)}function Xu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ju(e){return function(t,n){var r,i=!1,a=ve(Hu(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Zu(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Zu(e,t,n){var r=e.field.isKeyField()?Go.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xo(r,i):ao()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ao()}}function es(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ko(t)?"-0":t}}function ts(e){return{integerValue:""+e}}function ns(e,t){return Wo(t)?ts(t):es(e,t)}var rs=Te((function e(){xe(this,e),this._=void 0}));function is(e,t,n){return e instanceof us?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ss?ls(e,t):e instanceof cs?fs(e,t):function(e,t){var n=os(e,t),r=ds(n)+ds(e.k);return nu(n)&&nu(e.k)?ts(r):es(e.M,r)}(e,t)}function as(e,t,n){return e instanceof ss?ls(e,t):e instanceof cs?fs(e,t):n}function os(e,t){return e instanceof hs?nu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var us=function(e){ge(n,e);var t=Ee(n);function n(){return xe(this,n),t.apply(this,arguments)}return Te(n)}(rs),ss=function(e){ge(n,e);var t=Ee(n);function n(e){var r;return xe(this,n),(r=t.call(this)).elements=e,r}return Te(n)}(rs);function ls(e,t){var n,r=ps(t),i=ve(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return $o(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cs=function(e){ge(n,e);var t=Ee(n);function n(e){var r;return xe(this,n),(r=t.call(this)).elements=e,r}return Te(n)}(rs);function fs(e,t){var n,r=ps(t),i=ve(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!$o(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hs=function(e){ge(n,e);var t=Ee(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).M=e,i.k=r,i}return Te(n)}(rs);function ds(e){return Mo(e.integerValue||e.doubleValue)}function ps(e){return ru(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var vs=Te((function e(t,n){xe(this,e),this.version=t,this.transformResults=n})),ms=function(){function e(t,n){xe(this,e),this.updateTime=t,this.exists=n}return Te(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ys(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var gs=Te((function e(){xe(this,e)}));function ks(e,t,n){e instanceof Ss?function(e,t,n){var r=e.value.clone(),i=Cs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ts?function(e,t,n){if(ys(e.precondition,t)){var r=Cs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_s(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bs(e,t,n){e instanceof Ss?function(e,t,n){if(ys(e.precondition,t)){var r=e.value.clone(),i=Ns(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(xs(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ts?function(e,t,n){if(ys(e.precondition,t)){var r=Ns(e.fieldTransforms,n,t),i=t.data;i.setAll(_s(e)),i.setAll(r),t.convertToFoundDocument(xs(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ys(e.precondition,t)&&t.convertToNoDocument(To.min())}(e,t)}function ws(e,t){var n,r=null,i=ve(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=os(a.transform,o||null);null!=u&&(null==r&&(r=lu.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Es(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ss&&t instanceof ss||e instanceof cs&&t instanceof cs?xo(e.elements,t.elements,$o):e instanceof hs&&t instanceof hs?$o(e.k,t.k):e instanceof us&&t instanceof us}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function xs(e){return e.isFoundDocument()?e.version:To.min()}var Ss=function(e){ge(n,e);var t=Ee(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return xe(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Te(n)}(gs),Ts=function(e){ge(n,e);var t=Ee(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return xe(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Te(n)}(gs);function _s(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Cs(e,t,n){var r=new Map;oo(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,as(o,u,n[i]))}return r}function Ns(e,t,n){var r,i=new Map,a=ve(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,is(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Is,As,Ds=function(e){ge(n,e);var t=Ee(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Te(n)}(gs),Ls=function(e){ge(n,e);var t=Ee(n);function n(e,r){var i;return xe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Te(n)}(gs),Os=Te((function e(t){xe(this,e),this.count=t}));function Ps(e){switch(e){default:return ao();case so.CANCELLED:case so.UNKNOWN:case so.DEADLINE_EXCEEDED:case so.RESOURCE_EXHAUSTED:case so.INTERNAL:case so.UNAVAILABLE:case so.UNAUTHENTICATED:return!1;case so.INVALID_ARGUMENT:case so.NOT_FOUND:case so.ALREADY_EXISTS:case so.PERMISSION_DENIED:case so.FAILED_PRECONDITION:case so.ABORTED:case so.OUT_OF_RANGE:case so.UNIMPLEMENTED:case so.DATA_LOSS:return!0}}function js(e){if(void 0===e)return no("GRPC error has no .code"),so.UNKNOWN;switch(e){case Is.OK:return so.OK;case Is.CANCELLED:return so.CANCELLED;case Is.UNKNOWN:return so.UNKNOWN;case Is.DEADLINE_EXCEEDED:return so.DEADLINE_EXCEEDED;case Is.RESOURCE_EXHAUSTED:return so.RESOURCE_EXHAUSTED;case Is.INTERNAL:return so.INTERNAL;case Is.UNAVAILABLE:return so.UNAVAILABLE;case Is.UNAUTHENTICATED:return so.UNAUTHENTICATED;case Is.INVALID_ARGUMENT:return so.INVALID_ARGUMENT;case Is.NOT_FOUND:return so.NOT_FOUND;case Is.ALREADY_EXISTS:return so.ALREADY_EXISTS;case Is.PERMISSION_DENIED:return so.PERMISSION_DENIED;case Is.FAILED_PRECONDITION:return so.FAILED_PRECONDITION;case Is.ABORTED:return so.ABORTED;case Is.OUT_OF_RANGE:return so.OUT_OF_RANGE;case Is.UNIMPLEMENTED:return so.UNIMPLEMENTED;case Is.DATA_LOSS:return so.DATA_LOSS;default:return ao()}}(As=Is||(Is={}))[As.OK=0]="OK",As[As.CANCELLED=1]="CANCELLED",As[As.UNKNOWN=2]="UNKNOWN",As[As.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",As[As.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",As[As.NOT_FOUND=5]="NOT_FOUND",As[As.ALREADY_EXISTS=6]="ALREADY_EXISTS",As[As.PERMISSION_DENIED=7]="PERMISSION_DENIED",As[As.UNAUTHENTICATED=16]="UNAUTHENTICATED",As[As.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",As[As.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",As[As.ABORTED=10]="ABORTED",As[As.OUT_OF_RANGE=11]="OUT_OF_RANGE",As[As.UNIMPLEMENTED=12]="UNIMPLEMENTED",As[As.INTERNAL=13]="INTERNAL",As[As.UNAVAILABLE=14]="UNAVAILABLE",As[As.DATA_LOSS=15]="DATA_LOSS";var Rs=function(){function e(t,n){xe(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Te(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ve(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Co(this.inner,(function(t,n){var r,i=ve(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return No(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ms=function(){function e(t,n){xe(this,e),this.comparator=t,this.root=n||Vs.EMPTY}return Te(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Vs.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vs.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Fs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Fs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Fs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Fs(this.root,e,this.comparator,!0)}}]),e}(),Fs=function(){function e(t,n,r,i){xe(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Te(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Vs=function(){function e(t,n,r,i,a){xe(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Te(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ao();if(this.right.isRed())throw ao();var e=this.left.check();if(e!==this.right.check())throw ao();return e+(this.isRed()?0:1)}}]),e}();Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1,Vs.EMPTY=new(function(){function e(){xe(this,e),this.size=0}return Te(e,[{key:"key",get:function(){throw ao()}},{key:"value",get:function(){throw ao()}},{key:"color",get:function(){throw ao()}},{key:"left",get:function(){throw ao()}},{key:"right",get:function(){throw ao()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Vs(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Us=function(){function e(t){xe(this,e),this.comparator=t,this.data=new Ms(this.comparator)}return Te(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Bs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Bs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Bs=function(){function e(t){xe(this,e),this.iter=t}return Te(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var zs=new Ms(Go.comparator);function qs(){return zs}var Hs=new Ms(Go.comparator);function Ks(){return Hs}function Ws(){return new Rs((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Gs=new Ms(Go.comparator),Qs=new Us(Go.comparator);function $s(){for(var e=Qs,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ys=new Us(Eo);function Xs(){return Ys}var Js=function(){function e(t,n,r,i,a){xe(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Te(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Zs.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(To.min(),r,Xs(),qs(),$s())}}]),e}(),Zs=function(){function e(t,n,r,i,a){xe(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Te(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Po.EMPTY_BYTE_STRING,n,$s(),$s(),$s())}}]),e}(),el=Te((function e(t,n,r,i){xe(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),tl=Te((function e(t,n){xe(this,e),this.targetId=t,this.$=n})),nl=Te((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Po.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;xe(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),rl=function(){function e(){xe(this,e),this.B=0,this.L=ol(),this.U=Po.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Te(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=$s(),t=$s(),n=$s();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ao()}})),new Zs(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=ol()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),il=function(){function e(t){xe(this,e),this.nt=t,this.st=new Map,this.it=qs(),this.rt=al(),this.ot=new Us(Eo)}return Te(e,[{key:"ut",value:function(e){var t,n=ve(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=ve(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:ao()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(wu(i))if(0===n){var a=new Go(i.path);this.ct(t,a,fu.newNoDocument(a,To.min()))}else oo(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&wu(a.target)){var o=new Go(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,fu.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=$s();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Js(e,n,this.ot,this.it,r);return this.it=qs(),this.rt=al(),this.ot=new Us(Eo),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new rl,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Us(Eo),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||to("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new rl),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function al(){return new Ms(Go.comparator)}function ol(){return new Ms(Go.comparator)}var ul={asc:"ASCENDING",desc:"DESCENDING"},sl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ll=Te((function e(t,n){xe(this,e),this.databaseId=t,this.N=n}));function cl(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fl(e,t){return e.N?t.toBase64():t.toUint8Array()}function hl(e,t){return cl(e,t.toTimestamp())}function dl(e){return oo(!!e),To.fromTimestamp(function(e){var t=Ro(e);return new So(t.seconds,t.nanos)}(e))}function pl(e,t){return function(e){return new Ao(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function vl(e){var t=Ao.fromString(e);return oo(jl(t)),t}function ml(e,t){return pl(e.databaseId,t.path)}function yl(e,t){var n=vl(t);if(n.get(1)!==e.databaseId.projectId)throw new lo(so.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lo(so.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Go(wl(n))}function gl(e,t){return pl(e.databaseId,t)}function kl(e){var t=vl(e);return 4===t.length?Ao.emptyPath():wl(t)}function bl(e){return new Ao(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wl(e){return oo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function El(e,t,n){return{name:ml(e,t),fields:n.value.mapValue.fields}}function xl(e,t){var n;if(t instanceof Ss)n={update:El(e,t.key,t.value)};else if(t instanceof Ds)n={delete:ml(e,t.key)};else if(t instanceof Ts)n={update:El(e,t.key,t.data),updateMask:Pl(t.fieldMask)};else{if(!(t instanceof Ls))return ao();n={verify:ml(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof us)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ss)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hs)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ao()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ao()}(e,t.precondition)),n}function Sl(e,t){return{documents:[gl(e,t.path)]}}function Tl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=gl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(au(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NAN"}};if(iu(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(au(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NAN"}};if(iu(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(e.field),op:Il(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Al(e.field),direction:Nl(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Ho(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function _l(e){var t=kl(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){oo(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Cl(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Lu(Dl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ho(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Du(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Du(n,t)}(n.endAt)),Mu(t,i,u,o,s,"F",l,c)}function Cl(e){return e?void 0!==e.unaryFilter?[Ol(e)]:void 0!==e.fieldFilter?[Ll(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Cl(e)})).reduce((function(e,t){return e.concat(t)})):ao():[]}function Nl(e){return ul[e]}function Il(e){return sl[e]}function Al(e){return{fieldPath:e.canonicalString()}}function Dl(e){return Lo.fromServerFormat(e.fieldPath)}function Ll(e){return Eu.create(Dl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ao()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ol(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Dl(e.unaryFilter.field);return Eu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Dl(e.unaryFilter.field);return Eu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dl(e.unaryFilter.field);return Eu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dl(e.unaryFilter.field);return Eu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ao()}}function Pl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Rl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Ml=([].concat(o(Rl),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Fl=([].concat(Ml,["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Vl=function(){function e(){xe(this,e),this.onCommittedListeners=[]}return Te(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Ul=function(){function e(t){var n=this;xe(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Te(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ao(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ve(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Bl(e){return"IndexedDbTransactionError"===e.name}var zl=function(){function e(t,n,r,i){xe(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Te(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ks(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ve(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&bs(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=ve(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&bs(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(To.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),$s())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(function(e,t){return Es(e,t)}))&&xo(this.baseMutations,e.baseMutations,(function(e,t){return Es(e,t)}))}}]),e}(),ql=function(){function e(t,n,r,i){xe(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Te(e,null,[{key:"from",value:function(t,n,r){oo(t.mutations.length===r.length);for(var i=Gs,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Hl=function(){function e(t,n){xe(this,e),this.largestBatchId=t,this.mutation=n}return Te(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Kl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:To.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:To.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Po.EMPTY_BYTE_STRING;xe(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Te(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Wl=Te((function e(t){xe(this,e),this.Jt=t}));function Gl(e){var t=_l({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wu(t,t.limit,"L"):t}var Ql=function(){function e(){xe(this,e)}return Te(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Mo(e.integerValue));else if("doubleValue"in e){var n=Mo(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Ko(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Fo(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?su(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ao()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=ve(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Go.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();Ql.fe=new Ql;var $l=function(){function e(){xe(this,e),this.qe=new Yl}return Te(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Ul.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ul.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ul.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ul.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ul.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return Ul.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Ul.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ul.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Ul.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ul.resolve()}}]),e}(),Yl=function(){function e(){xe(this,e),this.index={}}return Te(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Us(Ao.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Us(Ao.comparator)).toArray()}}]),e}();new Uint8Array(0);var Xl=function(){function e(t,n,r){xe(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Te(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Xl.DEFAULT_COLLECTION_PERCENTILE=10,Xl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xl.DEFAULT=new Xl(41943040,Xl.DEFAULT_COLLECTION_PERCENTILE,Xl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xl.DISABLED=new Xl(-1,0,0);var Jl=function(){function e(t){xe(this,e),this.mn=t}return Te(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();function Zl(e){return ec.apply(this,arguments)}function ec(){return ec=ye(Ce().mark((function e(t){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===so.FAILED_PRECONDITION&&t.message===Fl){e.next=2;break}throw t;case 2:to("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}var tc=function(){function e(){xe(this,e),this.changes=new Rs((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Te(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,fu.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ul.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var nc=function(){function e(t,n,r){xe(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Te(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=ve(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=ve(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Go.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):qu(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Go(t)).next((function(e){var t=Ks();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ks();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ul.forEach(o,(function(o){var u=function(e,t){return new Ru(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ve(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ve(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,l=r.get(s);null==l&&(l=fu.newInvalidDocument(s),r=r.insert(s,l)),bs(u,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(s))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Yu(t,n)||(r=r.remove(e))})),r}))}}]),e}(),rc=function(){function e(t,n,r,i){xe(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Te(e,null,[{key:"Ys",value:function(t,n){var r,i=$s(),a=$s(),o=ve(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ic=function(){function e(){xe(this,e)}return Te(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(To.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Vu(t)||Uu(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(eo()<=Ye.DEBUG&&to("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),$u(t)),i.Zs.Qs(e,t,du(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Us(Ju(e));return t.forEach((function(t,r){Yu(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return eo()<=Ye.DEBUG&&to("QueryEngine","Using full collection scan to execute query:",$u(t)),this.Zs.Qs(e,t,vu.min())}}]),e}(),ac=function(){function e(t,n,r,i){xe(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Ms(Eo),this.ri=new Rs((function(e){return ku(e)}),bu),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return Te(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new nc(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function oc(e,t,n,r){return new ac(e,t,n,r)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return sc=ye(Ce().mark((function e(t,n){var r;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uo(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=$s(),s=ve(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=ve(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ve(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ve(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function lc(e,t){var n=uo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ul.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);oo(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function cc(e){var t=uo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function fc(e,t){var n=uo(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(Po.EMPTY_BYTE_STRING,To.min()).withLastLimboFreeSnapshotVersion(To.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.fs.updateTargetData(e,l))}}));var u=qs();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hc(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(To.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Ul.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function hc(e,t,n){var r=$s();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=qs();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(To.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):to("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function dc(e,t){var n=uo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function pc(e,t){var n=uo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,Ul.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Kl(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function vc(e,t,n){return mc.apply(this,arguments)}function mc(){return mc=ye(Ce().mark((function e(t,n,r){var i,a,o;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=uo(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Bl(e.t1)){e.next=12;break}throw e.t1;case 12:to("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),mc.apply(this,arguments)}function yc(e,t,n){var r=uo(e),i=To.min(),a=$s();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=uo(e),i=r.ri.get(n);return void 0!==i?Ul.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Ku(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:To.min(),n?a:$s())})).next((function(e){return gc(r,Xu(t),e),{documents:e,li:a}}))}))}function gc(e,t,n){var r=To.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}var kc=function(){function e(t){xe(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return Te(e,[{key:"getBundleMetadata",value:function(e,t){return Ul.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:dl(n.createTime)}),Ul.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ul.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Gl(e.bundledQuery),readTime:dl(e.readTime)}}(t)),Ul.resolve()}}]),e}(),bc=function(){function e(){xe(this,e),this.overlays=new Ms(Go.comparator),this.gi=new Map}return Te(e,[{key:"getOverlay",value:function(e,t){return Ul.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Ul.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),Ul.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ws(),i=t.length+1,a=new Go(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ul.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ms((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ws(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ws(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Ul.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Hl(t,n));var a=this.gi.get(t);void 0===a&&(a=$s(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),wc=function(){function e(){xe(this,e),this.yi=new Us(Ec.pi),this.Ii=new Us(Ec.Ti)}return Te(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ec(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new Ec(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new Go(new Ao([])),r=new Ec(n,e),i=new Ec(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new Go(new Ao([])),n=new Ec(t,e),r=new Ec(t,e+1),i=$s();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ec(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ec=function(){function e(t,n){xe(this,e),this.key=t,this.vi=n}return Te(e,null,[{key:"pi",value:function(e,t){return Go.comparator(e.key,t.key)||Eo(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Eo(e.vi,t.vi)||Go.comparator(e.key,t.key)}}]),e}(),xc=function(){function e(t,n){xe(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Us(Ec.pi)}return Te(e,[{key:"checkEmpty",value:function(e){return Ul.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new zl(i,t,n,r);this.Bs.push(a);var o,u=ve(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new Ec(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Ul.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ul.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return Ul.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ul.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return Ul.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ec(t,0),i=new Ec(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),Ul.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Us(Eo);return t.forEach((function(e){var t=new Ec(e,0),i=new Ec(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),Ul.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Go.isDocumentKey(i)||(i=i.child(""));var a=new Ec(new Go(i),0),o=new Us(Eo);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),Ul.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;oo(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return Ul.forEach(t.mutations,(function(i){var a=new Ec(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ec(t,0),r=this.Di.firstAfterOrEqual(n);return Ul.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Ul.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Sc=function(){function e(t){xe(this,e),this.Mi=t,this.docs=new Ms(Go.comparator),this.size=0}return Te(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ul.resolve(n?n.document.mutableCopy():fu.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=qs();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():fu.newInvalidDocument(e))})),Ul.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=qs(),i=new Go(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||mu(pu(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Ul.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ao()}},{key:"Oi",value:function(e,t){return Ul.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Tc(this)}},{key:"getSize",value:function(e){return Ul.resolve(this.size)}}]),e}(),Tc=function(e){ge(n,e);var t=Ee(n);function n(e){var r;return xe(this,n),(r=t.call(this)).Kn=e,r}return Te(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),Ul.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(tc),_c=function(){function e(t){xe(this,e),this.persistence=t,this.Fi=new Rs((function(e){return ku(e)}),bu),this.lastRemoteSnapshotVersion=To.min(),this.highestTargetId=0,this.$i=0,this.Bi=new wc,this.targetCount=0,this.Li=Jl.gn()}return Te(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),Ul.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ul.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ul.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),Ul.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),Ul.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new Jl(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Ul.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Ul.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Ul.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ul.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ul.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return Ul.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),Ul.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ul.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),Ul.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return Ul.resolve(n)}},{key:"containsKey",value:function(e,t){return Ul.resolve(this.Bi.containsKey(t))}}]),e}(),Cc=function(){function e(t,n){var r=this;xe(this,e),this.Ui={},this.overlays={},this.es=new ko(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new _c(this),this.indexManager=new $l,this.ds=new Sc((function(e){return r.referenceDelegate.qi(e)})),this.M=new Wl(n),this._s=new kc(this.M)}return Te(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bc,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new xc(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;to("MemoryPersistence","Starting transaction:",e);var i=new Nc(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return Ul.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Nc=function(e){ge(n,e);var t=Ee(n);function n(e){var r;return xe(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Te(n)}(Vl),Ic=function(){function e(t){xe(this,e),this.persistence=t,this.ji=new wc,this.Wi=null}return Te(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw ao()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),Ul.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),Ul.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),Ul.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ul.forEach(this.Hi,(function(r){var i=Go.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,To.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return Ul.or([function(){return Ul.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();var Ac=function(){function e(){xe(this,e),this.activeTargetIds=Xs()}return Te(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Dc=function(){function e(){xe(this,e),this.$r=new Ac,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Te(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new Ac,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Lc=function(){function e(){xe(this,e)}return Te(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Oc=function(){function e(){var t=this;xe(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return Te(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){to("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ve(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){to("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ve(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Pc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jc=function(){function e(t){xe(this,e),this.Wr=t.Wr,this.zr=t.zr}return Te(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),Rc=function(e){ge(n,e);var t=Ee(n);function n(e){var r;return xe(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Te(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new $a;o.listenOnce(Ha.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case qa.NO_ERROR:var t=o.getResponseJson();to("Connection","XHR received:",JSON.stringify(t)),i(t);break;case qa.TIMEOUT:to("Connection",'RPC "'+e+'" timed out'),a(new lo(so.DEADLINE_EXCEEDED,"Request time out"));break;case qa.HTTP_ERROR:var n=o.getStatus();if(to("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(so).indexOf(t)>=0?t:so.UNKNOWN}(r.status);a(new lo(u,r.message))}else a(new lo(so.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new lo(so.UNAVAILABLE,"Connection failed."));break;default:ao()}}finally{to("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ba(),a=za(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ga({})),this.ao(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())||"object"===typeof navigator&&"ReactNative"===navigator.product||Oe().indexOf("Electron/")>=0||function(){var e=Oe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Oe().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");to("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),l=!1,c=!1,f=new jc({Wr:function(e){c?to("Connection","Not sending because WebChannel is closed:",e):(l||(to("Connection","Opening WebChannel transport."),s.open(),l=!0),to("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Qa.EventType.OPEN,(function(){c||to("Connection","WebChannel transport opened.")})),h(s,Qa.EventType.CLOSE,(function(){c||(c=!0,to("Connection","WebChannel transport closed"),f.no())})),h(s,Qa.EventType.ERROR,(function(e){c||(c=!0,ro("Connection","WebChannel transport errored:",e),f.no(new lo(so.UNAVAILABLE,"The operation could not be completed")))})),h(s,Qa.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];oo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){to("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Is[e];if(void 0!==t)return js(t)}(a),u=i.message;void 0===o&&(o=so.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,f.no(new lo(o,u)),s.close()}else to("Connection","WebChannel received:",n),f.so(n)}})),h(a,Ka.STAT_EVENT,(function(e){e.stat===Wa.PROXY?to("Connection","Detected buffering proxy"):e.stat===Wa.NOPROXY&&to("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){xe(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Te(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);to("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return to("RestConnection","Received: ",e),e}),(function(t){throw ro("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Pc[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function Mc(){return"undefined"!=typeof document?document:null}function Fc(e){return new ll(e,!0)}var Vc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;xe(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return Te(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&to("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),Uc=function(){function e(t,n,r,i,a,o,u,s){xe(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Vc(t,n)}return Te(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=ye(Ce().mark((function e(){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=ye(Ce().mark((function e(){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=ye(Ce().mark((function e(t,n){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===so.RESOURCE_EXHAUSTED?(no(n.toString()),no("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===so.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.Vo===n&&e.qo(i,o)}),(function(n){t((function(){var t=new lo(so.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(ye(Ce().mark((function t(){return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return to("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(to("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Bc=function(e){ge(n,e);var t=Ee(n);function n(e,r,i,a,o,u){var s;return xe(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Te(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ao()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(oo(void 0===t||"string"==typeof t),Po.fromBase64String(t||"")):(oo(void 0===t||t instanceof Uint8Array),Po.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?so.UNKNOWN:js(e.code);return new lo(t,e.message||"")}(o);n=new nl(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=yl(e,s.document.name),c=dl(s.document.updateTime),f=new lu({mapValue:{fields:s.document.fields}}),h=fu.newFoundDocument(l,c,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new el(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=yl(e,v.document),y=v.readTime?dl(v.readTime):To.min(),g=fu.newNoDocument(m,y),k=v.removedTargetIds||[];n=new el([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=yl(e,b.document),E=b.removedTargetIds||[];n=new el([],E,w,null)}else{if(!("filter"in t))return ao();t.filter;var x=t.filter;x.targetId;var S=x.count||0,T=new Os(S),_=x.targetId;n=new tl(_,T)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return To.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?To.min():t.readTime?dl(t.readTime):To.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=bl(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=wu(r)?{documents:Sl(e,r)}:{query:Tl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fl(e,t.resumeToken):t.snapshotVersion.compareTo(To.min())>0&&(n.readTime=cl(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ao()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=bl(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(Uc),zc=function(e){ge(n,e);var t=Ee(n);function n(e,r,i,a,o,u){var s;return xe(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return Te(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,pe(he(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(oo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(oo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?dl(e.updateTime):dl(t);return n.isEqual(To.min())&&(n=dl(t)),new vs(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=dl(e.commitTime);return this.listener.Yo(n,t)}return oo(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=bl(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return xl(t.M,e)}))};this.Fo(n)}}]),n}(Uc),qc=function(e){ge(n,e);var t=Ee(n);function n(e,r,i,a){var o;return xe(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return Te(n,[{key:"eu",value:function(){if(this.tu)throw new lo(so.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),u=o[0],s=o[1];return r.bo.oo(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===so.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lo(so.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),u=o[0],s=o[1];return r.bo.ho(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===so.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new lo(so.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return Te((function e(){xe(this,e)}))}()),Hc=function(){function e(t,n){xe(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return Te(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(no(t),this.iu=!1):to("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),Kc=Te((function e(t,n,r,i,a){var o=this;xe(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(ye(Ce().mark((function e(){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=nf(o),!e.t0){e.next=5;break}return to("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ye(Ce().mark((function e(t){var n;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=uo(t)).fu.add(4),e.next=4,Qc(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,Wc(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new Hc(r,i)}));function Wc(e){return Gc.apply(this,arguments)}function Gc(){return Gc=ye(Ce().mark((function e(t){var n,r,i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nf(t)){e.next=18;break}n=ve(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Gc.apply(this,arguments)}function Qc(e){return $c.apply(this,arguments)}function $c(){return $c=ye(Ce().mark((function e(t){var n,r,i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ve(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),$c.apply(this,arguments)}function Yc(e,t){var n=uo(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),tf(n)?ef(n):Lf(n).xo()&&Jc(n,t))}function Xc(e,t){var n=uo(e),r=Lf(n);n.lu.delete(t),r.xo()&&Zc(n,t),0===n.lu.size&&(r.xo()?r.Mo():nf(n)&&n.wu.set("Unknown"))}function Jc(e,t){e.mu.Z(t.targetId),Lf(e).jo(t)}function Zc(e,t){e.mu.Z(t),Lf(e).Wo(t)}function ef(e){e.mu=new il({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),Lf(e).start(),e.wu.ru()}function tf(e){return nf(e)&&!Lf(e).Co()&&e.lu.size>0}function nf(e){return 0===uo(e).fu.size}function rf(e){e.mu=void 0}function af(e){return of.apply(this,arguments)}function of(){return of=ye(Ce().mark((function e(t){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){Jc(t,e)}));case 1:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(e,t){return sf.apply(this,arguments)}function sf(){return sf=ye(Ce().mark((function e(t,n){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rf(t),tf(t)?(t.wu.au(n),ef(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function lf(e,t,n){return cf.apply(this,arguments)}function cf(){return cf=ye(Ce().mark((function e(t,n,r){var i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof nl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ye(Ce().mark((function e(t,n){var r,i,a,o;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ve(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),to("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ff(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof el?t.mu.ut(n):n instanceof tl?t.mu._t(n):t.mu.ht(n),r.isEqual(To.min())){e.next=29;break}return e.prev=14,e.next=17,cc(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(Po.EMPTY_BYTE_STRING,n.snapshotVersion)),Zc(e,t);var r=new Kl(n.target,t,1,n.sequenceNumber);Jc(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),to("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ff(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),cf.apply(this,arguments)}function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return hf=ye(Ce().mark((function e(t,n,r){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bl(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,Qc(t);case 5:t.wu.set("Offline"),r||(r=function(){return cc(t.localStore)}),t.asyncQueue.enqueueRetryable(ye(Ce().mark((function e(){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return to("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,Wc(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(e,t){return t().catch((function(n){return ff(e,n,t)}))}function pf(e){return vf.apply(this,arguments)}function vf(){return vf=ye(Ce().mark((function e(t){var n,r,i,a;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=uo(t),r=Of(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!mf(n)){e.next=19;break}return e.prev=3,e.next=6,dc(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,yf(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ff(n,e.t0);case 17:e.next=2;break;case 19:gf(n)&&kf(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),vf.apply(this,arguments)}function mf(e){return nf(e)&&e.hu.length<10}function yf(e,t){e.hu.push(t);var n=Of(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function gf(e){return nf(e)&&!Of(e).Co()&&e.hu.length>0}function kf(e){Of(e).start()}function bf(e){return wf.apply(this,arguments)}function wf(){return wf=ye(Ce().mark((function e(t){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Of(t).Zo();case 1:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function Ef(e){return xf.apply(this,arguments)}function xf(){return xf=ye(Ce().mark((function e(t){var n,r,i,a;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Of(t),r=ve(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}function Sf(e,t,n){return Tf.apply(this,arguments)}function Tf(){return Tf=ye(Ce().mark((function e(t,n,r){var i,a;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=ql.from(i,n,r),e.next=3,df(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,pf(t);case 5:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}function _f(e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=ye(Ce().mark((function e(t,n){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Of(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=ye(Ce().mark((function e(t,n){var r,i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ps(i=n.code)||i===so.ABORTED){e.next=7;break}return r=t.hu.shift(),Of(t).ko(),e.next=5,df(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,pf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:gf(t)&&kf(t);case 5:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function Nf(e,t){return If.apply(this,arguments)}function If(){return If=ye(Ce().mark((function e(t,n){var r,i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=uo(t)).asyncQueue.verifyOperationInProgress(),to("RemoteStore","RemoteStore received new credentials"),i=nf(r),r.fu.add(3),e.next=6,Qc(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,Wc(r);case 12:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Af(e,t){return Df.apply(this,arguments)}function Df(){return Df=ye(Ce().mark((function e(t,n){var r;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uo(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,Wc(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,Qc(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}function Lf(e){return e.gu||(e.gu=function(e,t,n){var r=uo(e);return r.eu(),new Bc(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:af.bind(null,e),Yr:uf.bind(null,e),Qo:lf.bind(null,e)}),e.du.push(function(){var t=ye(Ce().mark((function t(n){return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),tf(e)?ef(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:rf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function Of(e){return e.yu||(e.yu=function(e,t,n){var r=uo(e);return r.eu(),new zc(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:bf.bind(null,e),Yr:_f.bind(null,e),Xo:Ef.bind(null,e),Yo:Sf.bind(null,e)}),e.du.push(function(){var t=ye(Ce().mark((function t(n){return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,pf(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(to("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var Pf=function(){function e(t,n,r,i,a){xe(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Te(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lo(so.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function jf(e,t){if(no("AsyncQueue","".concat(t,": ").concat(e)),Bl(e))return new lo(so.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Rf=function(){function e(t){xe(this,e),this.comparator=t?function(e,n){return t(e,n)||Go.comparator(e.key,n.key)}:function(e,t){return Go.comparator(e.key,t.key)},this.keyedMap=Ks(),this.sortedSet=new Ms(this.comparator)}return Te(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Mf=function(){function e(){xe(this,e),this.pu=new Ms(Go.comparator)}return Te(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):ao():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ff=function(){function e(t,n,r,i,a,o,u,s){xe(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Te(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Rf.emptySet(n),a,r,i,!0,!1)}}]),e}(),Vf=Te((function e(){xe(this,e),this.Tu=void 0,this.listeners=[]})),Uf=Te((function e(){xe(this,e),this.queries=new Rs((function(e){return Qu(e)}),Gu),this.onlineState="Unknown",this.Eu=new Set}));function Bf(e,t){return zf.apply(this,arguments)}function zf(){return zf=ye(Ce().mark((function e(t,n){var r,i,a,o,u;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uo(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Vf),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=jf(e.t0,"Initialization of query '".concat($u(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&Gf(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),zf.apply(this,arguments)}function qf(e,t){return Hf.apply(this,arguments)}function Hf(){return Hf=ye(Ce().mark((function e(t,n){var r,i,a,o,u;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uo(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Kf(e,t){var n,r=uo(e),i=!1,a=ve(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=ve(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Ru(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Gf(r)}function Wf(e,t,n){var r=uo(e),i=r.queries.get(t);if(i){var a,o=ve(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Gf(e){e.Eu.forEach((function(e){e.next()}))}var Qf=function(){function e(t,n,r){xe(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return Te(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ve(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ff(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=Ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}();var $f=Te((function e(t){xe(this,e),this.key=t})),Yf=Te((function e(t){xe(this,e),this.key=t})),Xf=function(){function e(t,n){xe(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=$s(),this.mutatedKeys=$s(),this.Uu=Ju(t),this.qu=new Rf(this.Uu)}return Te(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new Mf,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Vu(this.query)&&i.size===this.query.limit?i.last():null,l=Uu(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Yu(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||l&&n.Uu(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Vu(this.query)||Uu(this.query))for(;o.size>this.query.limit;){var c=Vu(this.query)?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ao()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new Ff(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Mf,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=$s(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new Yf(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new $f(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=$s();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return Ff.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),Jf=Te((function e(t,n,r){xe(this,e),this.query=t,this.targetId=n,this.view=r})),Zf=Te((function e(t){xe(this,e),this.key=t,this.Zu=!1})),eh=function(){function e(t,n,r,i,a,o){xe(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Rs((function(e){return Qu(e)}),Gu),this.na=new Map,this.sa=new Set,this.ia=new Ms(Go.comparator),this.ra=new Map,this.oa=new wc,this.ua={},this.aa=new Map,this.ca=Jl.yn(),this.onlineState="Unknown",this.ha=void 0}return Te(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=ye(Ce().mark((function e(t,n){var r,i,a,o,u,s;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ah(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,pc(r.localStore,Ku(n));case 8:return u=e.sent,r.isPrimaryClient&&Yc(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,rh(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t,n,r){return ih.apply(this,arguments)}function ih(){return ih=ye(Ce().mark((function e(t,n,r,i){var a,o,u,s,l,c;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=ye(Ce().mark((function e(t,n,r,i){var a,o,u;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,yc(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Eh(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,yc(t.localStore,n,!0);case 3:return a=e.sent,o=new Xf(n,a.li),u=o.Gu(a.documents),s=Zs.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(u,t.isPrimaryClient,s),Eh(t,r,l.Hu),c=new Jf(n,r,o),e.abrupt("return",(t.ea.set(n,c),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=ye(Ce().mark((function e(t,n){var r,i,a;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=uo(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Gu(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,vc(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Xc(r.remoteStore,i.targetId),bh(r,i.targetId)})).catch(Zl);case 9:e.next=14;break;case 11:return bh(r,i.targetId),e.next=14,vc(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function uh(e,t,n){return sh.apply(this,arguments)}function sh(){return sh=ye(Ce().mark((function e(t,n,r){var i,a,o;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dh(t),e.prev=1,e.next=4,function(e,t){var n,r=uo(e),i=So.now(),a=t.reduce((function(e,t){return e.add(t.key)}),$s());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=ve(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=ws(l,n.get(l.key));null!=c&&u.push(new Ts(l.key,c,cu(c.value.mapValue),ms.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Ms(Eo)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Th(i,a.changes);case 9:return e.next=11,pf(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=jf(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),sh.apply(this,arguments)}function lh(e,t){return ch.apply(this,arguments)}function ch(){return ch=ye(Ce().mark((function e(t,n){var r,i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uo(t),e.prev=1,e.next=4,fc(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(oo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?oo(n.Zu):e.removedDocuments.size>0&&(oo(n.Zu),n.Zu=!1))})),e.next=8,Th(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zl(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ch.apply(this,arguments)}function fh(e,t,n){var r=uo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=uo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ve(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Gf(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hh(e,t,n){return dh.apply(this,arguments)}function dh(){return dh=ye(Ce().mark((function e(t,n,r){var i,a,o,u,s,l;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=uo(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ms(Go.comparator)).insert(o,fu.newNoDocument(o,To.min())),s=$s().add(o),l=new Js(To.min(),new Map,new Us(Eo),u,s),e.next=9,lh(i,l);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),Sh(i),e.next=16;break;case 14:return e.next=16,vc(i.localStore,n,!1).then((function(){return bh(i,n,r)})).catch(Zl);case 16:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}function ph(e,t){return vh.apply(this,arguments)}function vh(){return vh=ye(Ce().mark((function e(t,n){var r,i,a;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uo(t),i=n.batch.batchId,e.prev=1,e.next=4,lc(r.localStore,n);case 4:return a=e.sent,kh(r,i,null),gh(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Th(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vh.apply(this,arguments)}function mh(e,t,n){return yh.apply(this,arguments)}function yh(){return yh=ye(Ce().mark((function e(t,n,r){var i,a;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=uo(t),e.prev=1,e.next=4,function(e,t){var n=uo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return oo(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,kh(i,n,r),gh(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Th(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),yh.apply(this,arguments)}function gh(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function kh(e,t,n){var r=uo(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function bh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ve(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||wh(e,t)}))}function wh(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(Xc(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),Sh(e))}function Eh(e,t,n){var r,i=ve(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof $f?(e.oa.addReference(a.key,t),xh(e,a)):a instanceof Yf?(to("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||wh(e,a.key)):ao()}}catch(o){i.e(o)}finally{i.f()}}function xh(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(to("SyncEngine","New document in limbo: "+n),e.sa.add(r),Sh(e))}function Sh(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new Go(Ao.fromString(t)),r=e.ca.next();e.ra.set(r,new Zf(n)),e.ia=e.ia.insert(n,r),Yc(e.remoteStore,new Kl(Ku(Fu(n.path)),r,2,ko.A))}}function Th(e,t,n){return _h.apply(this,arguments)}function _h(){return _h=ye(Ce().mark((function e(t,n,r){var i,a,o,u;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=uo(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=rc.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=ye(Ce().mark((function e(t,n){var r,i,a,o,u,s,l,c;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=uo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ul.forEach(n,(function(t){return Ul.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ul.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Bl(e.t0)){e.next=10;break}throw e.t0;case 10:to("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ve(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.ii=r.ii.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),_h.apply(this,arguments)}function Ch(e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=ye(Ce().mark((function e(t,n){var r,i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=uo(t)).currentUser.isEqual(n)){e.next=11;break}return to("SyncEngine","User change. New user:",n.toKey()),e.next=5,uc(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new lo(so.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Th(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),Nh.apply(this,arguments)}function Ih(e,t){var n=uo(e),r=n.ra.get(t);if(r&&r.Zu)return $s().add(r.key);var i=$s(),a=n.na.get(t);if(!a)return i;var o,u=ve(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.ea.get(s);i=i.unionWith(l.view.Ku)}}catch(c){u.e(c)}finally{u.f()}return i}function Ah(e){var t=uo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ih.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hh.bind(null,t),t.ta.Qo=Kf.bind(null,t.eventManager),t.ta.fa=Wf.bind(null,t.eventManager),t}function Dh(e){var t=uo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ph.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mh.bind(null,t),t}var Lh=function(){function e(){xe(this,e),this.synchronizeTabs=!1}return Te(e,[{key:"initialize",value:function(){var e=ye(Ce().mark((function e(t){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Fc(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return oc(this.persistence,new ic,e.initialUser,this.M)}},{key:"wa",value:function(e){return new Cc(Ic.zi,this.M)}},{key:"_a",value:function(e){return new Dc}},{key:"terminate",value:function(){var e=ye(Ce().mark((function e(){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Oh=function(){function e(){xe(this,e)}return Te(e,[{key:"initialize",value:function(){var e=ye(Ce().mark((function e(t,n){var r=this;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return fh(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ch.bind(null,this.syncEngine),e.next=12,Af(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Uf}},{key:"createDatastore",value:function(e){var t,n=Fc(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Rc(t));return function(e,t,n,r){return new qc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return fh(o.syncEngine,e,0)},a=Oc.vt()?new Oc:new Lc,new Kc(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new eh(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ye(Ce().mark((function e(t){var n;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uo(t),to("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,Qc(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Ph=function(){function e(t){xe(this,e),this.observer=t,this.muted=!1}return Te(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jh=function(){function e(t,n,r,i){var a=this;xe(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xa.UNAUTHENTICATED,this.clientId=wo.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ye(Ce().mark((function e(t){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return to("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return to("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Te(e,[{key:"getConfiguration",value:function(){var e=ye(Ce().mark((function e(){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new lo(so.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ye(Ce().mark((function n(){var r;return Ce().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=jf(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Rh(e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=ye(Ce().mark((function e(t,n){var r,i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),to("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ye(Ce().mark((function e(t){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,uc(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Fh(e,t){return Vh.apply(this,arguments)}function Vh(){return Vh=ye(Ce().mark((function e(t,n){var r,i;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Uh(t);case 3:return r=e.sent,to("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Nf(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Nf(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Vh.apply(this,arguments)}function Uh(e){return Bh.apply(this,arguments)}function Bh(){return Bh=ye(Ce().mark((function e(t){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return to("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Rh(t,new Lh);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function zh(e){return qh.apply(this,arguments)}function qh(){return qh=ye(Ce().mark((function e(t){return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return to("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Fh(t,new Oh);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function Hh(e){return zh(e).then((function(e){return e.syncEngine}))}function Kh(e){return Wh.apply(this,arguments)}function Wh(){return Wh=ye(Ce().mark((function e(t){var n,r;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zh(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=th.bind(null,n.syncEngine),r.onUnlisten=ah.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Gh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new co;return e.asyncQueue.enqueueAndForget(ye(Ce().mark((function i(){return Ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ph({next:function(a){t.enqueueAndForget((function(){return qf(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new lo(so.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new lo(so.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Qf(Fu(n.path),a,{includeMetadataChanges:!0,Cu:!0});return Bf(e,o)},i.next=3,Kh(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Qh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new co;return e.asyncQueue.enqueueAndForget(ye(Ce().mark((function i(){return Ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ph({next:function(n){t.enqueueAndForget((function(){return qf(e,o)})),n.fromCache&&"server"===r.source?i.reject(new lo(so.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qf(n,a,{includeMetadataChanges:!0,Cu:!0});return Bf(e,o)},i.next=3,Kh(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var $h=new Map;function Yh(e,t,n){if(!n)throw new lo(so.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xh(e){if(!Go.isDocumentKey(e))throw new lo(so.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jh(e){if(Go.isDocumentKey(e))throw new lo(so.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ao()}function ed(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lo(so.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zh(e);throw new lo(so.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var td=function(){function e(t){var n;if(xe(this,e),void 0===t.host){if(void 0!==t.ssl)throw new lo(so.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new lo(so.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new lo(so.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Te(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),nd=function(){function e(t,n,r){xe(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new td({}),this._settingsFrozen=!1,t instanceof qo?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lo(so.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qo(e.options.projectId)}(t))}return Te(e,[{key:"app",get:function(){if(!this._app)throw new lo(so.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new lo(so.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new td(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ho;switch(e.type){case"gapi":var t=e.client;return oo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new mo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new lo(so.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=$h.get(e);t&&(to("ComponentProvider","Removing Datastore"),$h.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var rd=function(){function e(t,n,r){xe(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Te(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ad(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),id=function(){function e(t,n,r){xe(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Te(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ad=function(e){ge(n,e);var t=Ee(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this,e,r,Fu(i)))._path=i,a.type="collection",a}return Te(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rd(this.firestore,null,new Go(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(id);function od(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),Yh("collection","path",t),e instanceof nd){var a=Ao.fromString.apply(Ao,[t].concat(r));return Jh(a),new ad(e,null,a)}if(!(e instanceof rd||e instanceof ad))throw new lo(so.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ao.fromString.apply(Ao,[t].concat(r)));return Jh(o),new ad(e.firestore,null,o)}function ud(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),1===arguments.length&&(t=wo.R()),Yh("doc","path",t),e instanceof nd){var a=Ao.fromString.apply(Ao,[t].concat(r));return Xh(a),new rd(e,null,new Go(a))}if(!(e instanceof rd||e instanceof ad))throw new lo(so.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ao.fromString.apply(Ao,[t].concat(r)));return Xh(o),new rd(e.firestore,e instanceof ad?e.converter:null,new Go(o))}var sd=function(){function e(){var t=this;xe(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Vc(this,"async_queue_retry"),this.qa=function(){var e=Mc();e&&to("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=Mc();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return Te(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=Mc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new co;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=ye(Ce().mark((function e(){var t=this;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Bl(e.t0)){e.next=12;break}throw e.t0;case 12:to("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw no("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=Pf.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&ao()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=ye(Ce().mark((function e(){var t;return Ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=ve(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ve(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();var ld=function(e){ge(n,e);var t=Ee(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new sd,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Te(n,[{key:"_terminate",value:function(){return this._firestoreClient||fd(this),this._firestoreClient.terminate()}}]),n}(nd);function cd(e){return e._firestoreClient||fd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new zo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jh(e._authCredentials,e._appCheckCredentials,e._queue,r)}var hd=function(){function e(){xe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new lo(so.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lo(n)}return Te(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var dd=function(){function e(t){xe(this,e),this._byteString=t}return Te(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Po.fromBase64String(t))}catch(t){throw new lo(so.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Po.fromUint8Array(t))}}]),e}(),pd=Te((function e(t){xe(this,e),this._methodName=t})),vd=function(){function e(t,n){if(xe(this,e),!isFinite(t)||t<-90||t>90)throw new lo(so.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lo(so.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Te(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Eo(this._lat,e._lat)||Eo(this._long,e._long)}}]),e}(),md=/^__.*__$/,yd=function(){function e(t,n,r){xe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Te(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ss(e,this.data,t,this.fieldTransforms)}}]),e}(),gd=function(){function e(t,n,r){xe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Te(e,[{key:"toMutation",value:function(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function kd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ao()}}var bd=function(){function e(t,n,r,i,a,o){xe(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Te(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return jd(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(kd(this.Xa)&&md.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),wd=function(){function e(t,n,r){xe(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Fc(t)}return Te(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bd({Xa:e,methodName:t,uc:n,path:Lo.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Ed(e){var t=e._freezeSettings(),n=Fc(e._databaseId);return new wd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xd(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);Dd("Data must be an object, but it was:",o,r);var u,s,l=Id(r,o);if(a.merge)u=new Oo(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=ve(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=Ld(t,d,n);if(!o.contains(p))throw new lo(so.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Rd(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Oo(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new yd(new lu(l),u,s)}var Sd=function(e){ge(n,e);var t=Ee(n);function n(){return xe(this,n),t.apply(this,arguments)}return Te(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pd);function Td(e,t,n,r){var i=e.ac(1,t,n);Dd("Data must be an object, but it was:",i,r);var a=[],o=lu.empty();Co(r,(function(e,r){var u=Pd(t,e,n);r=Ue(r);var s=i.sc(u);if(r instanceof Sd)a.push(u);else{var l=Nd(r,s);null!=l&&(a.push(u),o.set(u,l))}}));var u=new Oo(a);return new gd(o,u,i.fieldTransforms)}function _d(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[Ld(t,r,n)],s=[i];if(a.length%2!=0)throw new lo(so.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)u.push(Ld(t,a[l])),s.push(a[l+1]);for(var c=[],f=lu.empty(),h=u.length-1;h>=0;--h)if(!Rd(c,u[h])){var d=u[h],p=s[h];p=Ue(p);var v=o.sc(d);if(p instanceof Sd)c.push(d);else{var m=Nd(p,v);null!=m&&(c.push(d),f.set(d,m))}}var y=new Oo(c);return new gd(f,y,o.fieldTransforms)}function Cd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Nd(n,e.ac(r?4:3,t))}function Nd(e,t){if(Ad(e=Ue(e)))return Dd("Unsupported field value:",t,e),Id(e,t);if(e instanceof pd)return function(e,t){if(!kd(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ve(e);try{for(a.s();!(n=a.n()).done;){var o=Nd(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ue(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ns(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=So.fromDate(e);return{timestampValue:cl(t.M,n)}}if(e instanceof So){var r=new So(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cl(t.M,r)}}if(e instanceof vd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dd)return{bytesValue:fl(t.M,e._byteString)};if(e instanceof rd){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:pl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(Zh(e)))}(e,t)}function Id(e,t){var n={};return No(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Co(e,(function(e,r){var i=Nd(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ad(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof So||e instanceof vd||e instanceof dd||e instanceof rd||e instanceof pd)}function Dd(e,t,n){if(!Ad(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Zh(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function Ld(e,t,n){if((t=Ue(t))instanceof hd)return t._internalPath;if("string"==typeof t)return Pd(e,t);throw jd("Field path arguments must be of type string or ",e,!1,void 0,n)}var Od=new RegExp("[~\\*/\\[\\]]");function Pd(e,t,n){if(t.search(Od)>=0)throw jd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return fe(hd,o(t.split(".")))._internalPath}catch(r){throw jd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jd(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new lo(so.INVALID_ARGUMENT,u+e+s)}function Rd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Md=function(){function e(t,n,r,i,a){xe(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Te(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new rd(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Fd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Vd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Fd=function(e){ge(n,e);var t=Ee(n);function n(){return xe(this,n),t.apply(this,arguments)}return Te(n,[{key:"data",value:function(){return pe(he(n.prototype),"data",this).call(this)}}]),n}(Md);function Vd(e,t){return"string"==typeof t?Pd(e,t):t instanceof hd?t._internalPath:t._delegate._internalPath}var Ud=function(){function e(t,n){xe(this,e),this.hasPendingWrites=t,this.fromCache=n}return Te(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Bd=function(e){ge(n,e);var t=Ee(n);function n(e,r,i,a,o,u){var s;return xe(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Te(n,[{key:"exists",value:function(){return pe(he(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Vd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Md),zd=function(e){ge(n,e);var t=Ee(n);function n(){return xe(this,n),t.apply(this,arguments)}return Te(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pe(he(n.prototype),"data",this).call(this,e)}}]),n}(Bd),qd=function(){function e(t,n,r,i){xe(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ud(i.hasPendingWrites,i.fromCache),this.query=r}return Te(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new zd(n._firestore,n._userDataWriter,r.key,r,new Ud(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lo(so.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new zd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ud(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new zd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ud(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Hd(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Hd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ao()}}function Kd(e){if(Uu(e)&&0===e.explicitOrderBy.length)throw new lo(so.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wd=Te((function e(){xe(this,e)}));function Gd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Qd=function(e){ge(n,e);var t=Ee(n);function n(e,r,i){var a;return xe(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return Te(n,[{key:"_apply",value:function(e){var t=Ed(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new lo(so.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Xd(o,a);var s,l=[],c=ve(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;l.push(Yd(r,e,f))}}catch(d){c.e(d)}finally{c.f()}u={arrayValue:{values:l}}}else u=Yd(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Xd(o,a),u=Cd(n,"where",o,"in"===a||"not-in"===a);var h=Eu.create(i,a,u);return function(e,t){if(t.S()){var n=zu(e);if(null!==n&&!n.isEqual(t.field))throw new lo(so.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Bu(e);null!==r&&Jd(e,t.field,r)}var i=function(e,t){var n,r=ve(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new lo(so.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lo(so.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new id(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Wd);function $d(e,t,n){var r=t,i=Vd("where",e);return new Qd(i,r,n)}function Yd(e,t,n){if("string"==typeof(n=Ue(n))){if(""===n)throw new lo(so.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qu(t)&&-1!==n.indexOf("/"))throw new lo(so.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ao.fromString(n));if(!Go.isDocumentKey(r))throw new lo(so.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return tu(e,new Go(r))}if(n instanceof rd)return tu(e,n._key);throw new lo(so.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Zh(n),"."))}function Xd(e,t){if(!Array.isArray(e)||0===e.length)throw new lo(so.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new lo(so.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Jd(e,t,n){if(!n.isEqual(t))throw new lo(so.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Zd=function(){function e(){xe(this,e)}return Te(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ao()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Co(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new vd(Mo(e.latitude),Mo(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Uo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bo(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ro(e);return new So(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ao.fromString(e);oo(jl(n));var r=new qo(n.get(1),n.get(3)),i=new Go(n.popFirst(5));return r.isEqual(t)||no("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ep(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var tp=function(){function e(t,n){xe(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ed(t)}return Te(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=np(e,this._firestore),i=ep(r.converter,t,n),a=xd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ms.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=np(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ue(t))||t instanceof hd?_d(this._dataReader,"WriteBatch.update",i._key,t,n,o):Td(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ms.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=np(e,this._firestore);return this._mutations=this._mutations.concat(new Ds(t._key,ms.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new lo(so.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function np(e,t){if((e=Ue(e)).firestore!==t)throw new lo(so.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rp=function(e){ge(n,e);var t=Ee(n);function n(e){var r;return xe(this,n),(r=t.call(this)).firestore=e,r}return Te(n,[{key:"convertBytes",value:function(e){return new dd(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rd(this.firestore,null,t)}}]),n}(Zd);function ip(e){e=ed(e,id);var t=ed(e.firestore,ld),n=cd(t),r=new rp(t);return Kd(e._query),Qh(n,e._query).then((function(n){return new qd(t,r,e,n)}))}function ap(e,t){return function(e,t){var n=new co;return e.asyncQueue.enqueueAndForget(ye(Ce().mark((function r(){return Ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=uh,r.next=3,Hh(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(cd(e),t)}function op(e,t,n){var r=n.docs.get(t._key),i=new rp(e);return new Bd(e,i,t._key,r,new Ud(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ja="9.6.11",vt(new We("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ld(i,new po(e.getProvider("auth-internal")),new go(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),wt(Ya,"3.4.8",e),wt(Ya,"3.4.8","esm2017")}();wt("firebase","9.6.11","app");var up=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ct,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw gt.create("bad-app-name",{appName:String(i)});var a=ht.get(i);if(a){if(Fe(e,a.options)&&Fe(r,a.config))return a;throw gt.create("duplicate-app",{appName:i})}var o,u=new Xe(i),s=ve(dt.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new kt(e,r,u);return ht.set(i,c),c}({apiKey:"AIzaSyDdkRczB51uv4GK0dxLzHvo1j0y-2AGArI",authDomain:"ecommercer-buccellato.firebaseapp.com",projectId:"ecommercer-buccellato",storageBucket:"ecommercer-buccellato.appspot.com",messagingSenderId:"753113246768",appId:"1:753113246768:web:b5dd278a16d2e020ff51f5"}),sp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return mt(e,"firestore").getImmediate()}(up),lp=function(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1],i=a((0,e.useState)([!0]),2),o=i[0],u=i[1],l=q().categoriaId,c=function(t){U()||T(!1);var n=B().pathname;return(0,e.useMemo)((function(){return L(t,n)}),[n,t])}({path:"/ofertas",strict:!0,sensitive:!0});return(0,e.useEffect)((function(){u(!0),ip(l?Gd(od(sp,"listaDeProductos"),$d("categoria","==",l)):c?Gd(od(sp,"listaDeProductos"),$d("precioOferta","!=","")):od(sp,"listaDeProductos")).then((function(e){var t=e.docs.map((function(e){return ie({id:e.id},e.data())}));r(t)})).catch((function(e){console.log(e)})).finally((function(){u(!1)}))}),[l]),o?(0,s.jsx)("div",{className:"item-list-container",children:(0,s.jsx)(se,{})}):(0,s.jsx)("div",{className:"item-list-container",children:n.length>0&&(0,s.jsx)(ue,{productos:n})})},cp=function(t){var n=t.id,r=t.nombre,i=t.marca,o=t.talle,u=t.descripcion_breve,l=t.precio,c=t.link_imagen,h=t.imagenes,d=t.stock,p=t.precioOferta,v=(0,e.useContext)(f).addItem,m=a((0,e.useState)(0),2),y=m[0],g=m[1];return(0,s.jsx)("div",{className:"container-item-detail",children:(0,s.jsxs)("div",{className:"product",children:[(0,s.jsx)("div",{className:"product__photo",children:(0,s.jsxs)("div",{className:"photo-container-detail",children:[(0,s.jsx)("div",{className:"photo-main-detail",children:(0,s.jsx)("img",{src:c,alt:"Imagen principal"})}),(0,s.jsx)("div",{className:"photo-album",children:(0,s.jsx)("ul",{children:h.map((function(e,t){return(0,s.jsx)("li",{children:(0,s.jsx)("img",{src:e,alt:"Imagen secundaria"})},t)}))})})]})}),(0,s.jsxs)("div",{className:"product__info",children:[(0,s.jsxs)("div",{className:"title",children:[(0,s.jsx)("h1",{children:r}),(0,s.jsxs)("span",{children:["ID: ",n]}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{children:i})]}),(0,s.jsx)("span",{className:"cartel-oferta",children:""===p?"":"OFERTA"}),(0,s.jsxs)("div",{className:"price-detail",children:[(0,s.jsx)("span",{className:"precio-anterior",children:""!==p&&"$"+l}),(0,s.jsx)("span",{className:"precio-actual",children:""===p?"$"+l:"$"+p})]}),(0,s.jsxs)("div",{className:"variant",children:[(0,s.jsx)("h3",{children:"Selccionar Talle"}),(0,s.jsx)("ul",{children:o.map((function(e,t){return(0,s.jsx)("li",{children:e},t)}))})]}),(0,s.jsxs)("div",{className:"description",children:[(0,s.jsx)("h3",{children:"Decripci\xf3n"}),(0,s.jsx)("span",{children:u})]}),d>0&&(0,s.jsx)(ae,{inicial:1,maximoStock:d,onAdd:function(e){g(e),v({id:n,nombre:r,precioDefinitivo:""===p?l:p,nuevaCantidad:e,link_imagen:c})}}),y>0&&(0,s.jsx)(ee,{className:"boton-carrito",to:"/carrito",children:"Ir al Carrito"})]})]})})},fp=function(){var t=a((0,e.useState)(),2),n=t[0],r=t[1],i=q().productId;return(0,e.useEffect)((function(){(function(e){e=ed(e,rd);var t=ed(e.firestore,ld);return Gh(cd(t),e._key).then((function(n){return op(t,e,n)}))})(ud(sp,"listaDeProductos",i)).then((function(e){var t=ie({id:e.id},e.data());r(t)}))}),[i]),(0,s.jsx)("div",{className:"container-item-detail-container",children:n?(0,s.jsx)(cp,ie({},n),n.id):(0,s.jsx)(se,{})})},hp=function(){var t=(0,e.useContext)(f),n=t.user,r=t.setUser;return null!=n?(0,s.jsx)(ee,{to:"/carrito",children:(0,s.jsx)("div",{className:"container-return",children:(0,s.jsx)("h1",{className:"container-return-button",children:"Muchas gracias por su tiempo. \xa1Click aqui para seguir con su compra!"})})}):(0,s.jsx)("div",{className:"contact-form",children:(0,s.jsxs)("form",{children:[(0,s.jsxs)("p",{children:[(0,s.jsxs)("label",{className:"colocar_nombre",children:["Nombre",(0,s.jsx)("span",{className:"obligatorio",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"nombre",required:"obligatorio",placeholder:"Escribe tu nombre"})]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("label",{className:"colocar_email",children:["Email",(0,s.jsx)("span",{className:"obligatorio",children:"*"})]}),(0,s.jsx)("input",{type:"email",id:"email",required:"obligatorio",placeholder:"Escribe tu Email"})]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("label",{className:"colocar_telefono",children:["Tel\xe9fono",(0,s.jsx)("span",{className:"obligatorio",children:"*"})]}),(0,s.jsx)("input",{type:"tel",id:"telefono",placeholder:"Escribe tu tel\xe9fono"})]}),(0,s.jsx)("div",{className:"button-enviar",onClick:function(){var e=document.getElementById("nombre").value,t=document.getElementById("telefono").value,n=document.getElementById("telefono").value;r({name:e,telefono:t,mail:n})},children:(0,s.jsx)("p",{children:"Enviar"})}),(0,s.jsxs)("p",{className:"aviso",children:[(0,s.jsx)("span",{className:"obligatorio",children:" * "}),"los campos son obligatorios."]})]})})},dp=function(){var t=(0,e.useContext)(f).user;return null==t?(0,s.jsx)(hp,{}):(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"usuario-container",children:(0,s.jsx)("h1",{children:"Usuario registrado:"})}),(0,s.jsx)("div",{className:"contact-form-muestra",children:(0,s.jsxs)("form",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("label",{className:"colocar_nombre",children:"Nombre:"}),(0,s.jsx)("input",{type:"text",id:"nombre",required:"obligatorio",placeholder:t.name})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("label",{className:"colocar_email",children:"Email:"}),(0,s.jsx)("input",{type:"email",id:"email",required:"obligatorio",placeholder:t.mail})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("label",{className:"colocar_telefono",children:"Tel\xe9fono:"}),(0,s.jsx)("input",{type:"tel",id:"telefono",placeholder:t.telefono})]})]})})]})},pp=function(e){var t=e.id,n=e.nombre,r=e.descripcion_breve,i=e.precioDefinitivo,a=e.link_imagen,o=e.nuevaCantidad;i=i.replace(".","");var u=parseInt(i)*o;return(0,s.jsx)("div",{className:"shopping-cart-list-container",children:(0,s.jsxs)("div",{className:"product-cart-list",children:[(0,s.jsx)("div",{className:"product-image-cart-list",children:(0,s.jsx)("img",{className:"img-cart-list",src:a,alt:t})}),(0,s.jsxs)("div",{className:"product-details-cart-list",children:[(0,s.jsx)("div",{className:"product-title-cart-list",children:n}),(0,s.jsx)("p",{className:"product-description-cart-list",children:r})]}),(0,s.jsxs)("div",{className:"product-price-cart-list",children:["$",i]}),(0,s.jsx)("div",{className:"product-quantity-cart-list",children:(0,s.jsx)("span",{children:o})}),(0,s.jsxs)("div",{className:"product-line-price-cart-list",children:["$",u]})]})})},vp=function(e){var t=e.orden,n=e.onAdd;return console.log(t.codigo),(0,s.jsxs)("div",{className:"container-itemList-cart",children:[(0,s.jsx)("h1",{children:"Su orden fue aceptada y es la siguiente:"}),t.codigo&&(0,s.jsxs)("h2",{children:["ID: ",t.codigo]}),(0,s.jsxs)("div",{className:"shopping-cart-list",children:[(0,s.jsxs)("div",{className:"column-labels-cart-list",children:[(0,s.jsx)("label",{className:"product-image-cart-list",children:"Imagen"}),(0,s.jsx)("label",{className:"product-details-cart-list",children:"Producto"}),(0,s.jsx)("label",{className:"product-price-cart-list",children:"Precio"}),(0,s.jsx)("label",{className:"product-quantity-cart-list",children:"Cantidad"}),(0,s.jsx)("label",{className:"product-line-price-cart-list",children:"Total"})]}),t.items.map((function(e){return(0,s.jsx)(pp,ie({},e),e.id)}))]}),(0,s.jsxs)("div",{className:"totals-cart",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("div",{className:"totals-value-cart",children:["$",t.total]})]}),(0,s.jsx)("div",{className:"seguir-comprando",onClick:function(){n()},children:(0,s.jsx)(ee,{to:"/",children:(0,s.jsx)("div",{className:"container-return",children:(0,s.jsx)("h1",{className:"container-return-button",children:"\xa1Click Aqui! para seguir comprado."})})})})]})},mp=function(){var t=a((0,e.useState)(),2),n=t[0],r=t[1];return n?(0,s.jsx)(vp,{orden:n,onAdd:function(){r()}}):(0,s.jsx)("div",{className:"orden-container",children:(0,s.jsx)("div",{className:"contact-form",children:(0,s.jsxs)("form",{children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("label",{className:"colocar_nombre",children:"N\xfamero de Orden:"}),(0,s.jsx)("label",{className:"ejemplo-orden",children:"Ejemplo: 2rM6tNgpi6vSmzDAqCmk"}),(0,s.jsx)("input",{type:"text",id:"numero-orden",required:"obligatorio",placeholder:"Escribe el n\xfamero de Orden"})]}),(0,s.jsx)("div",{className:"button-enviar",onClick:function(){return function(){var e=document.getElementById("numero-orden").value;ip(Gd(od(sp,"orders"))).then((function(t){var n=t.docs.find((function(t){return t.id===e}));r(n.data())})).catch((function(e){console.log(e)}))}()},children:(0,s.jsx)("p",{children:"Ver Orden"})})]})})})},yp=function(e){var t=e.id,n=e.link_imagen,r=e.descripcion;return(0,s.jsx)(ee,{to:"/categoria/".concat(t),children:(0,s.jsx)("div",{className:"container-categoria-detail",children:(0,s.jsxs)("div",{className:"product",children:[(0,s.jsx)("div",{className:"product-photo",children:(0,s.jsx)("div",{className:"photo-container",children:(0,s.jsx)("div",{className:"photo-main-categoria",children:(0,s.jsx)("img",{src:n,alt:"Imagen principal"})})})}),(0,s.jsx)("div",{className:"product-info",children:(0,s.jsxs)("div",{className:"description",children:[(0,s.jsx)("h3",{children:t}),(0,s.jsx)("span",{children:r})]})})]})})})},gp=function(e){var t=e.categorias;return(0,s.jsx)("div",{className:"container-CategoriaList",children:t.map((function(e){return(0,s.jsx)(yp,ie({},e),e.id)}))})},kp=function(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){ip(od(sp,"listCategorias")).then((function(e){var t=e.docs.map((function(e){return ie({id:e.id},e.data())}));r(t)}))}),[]),(0,s.jsx)("div",{className:"container-categoria",children:n.length>0?(0,s.jsx)(gp,{categorias:n}):(0,s.jsx)(se,{})})};var bp=function(){return(0,s.jsx)("div",{className:"footer-container",children:(0,s.jsxs)("footer",{className:"footer-distributed",children:[(0,s.jsx)("p",{children:"Dise\xf1ado y Desarollado por Franco Buccellato \xa9 2022"}),(0,s.jsx)("a",{href:"https://www.linkedin.com/in/franco-buccellato-395961a7/",children:(0,s.jsx)("img",{className:"logo-linkedin",src:"https://cdn-icons-png.flaticon.com/512/174/174857.png",alt:"Linkedin"})})]})})},wp=function(t){var n=t.id,r=t.nombre,i=t.descripcion_breve,a=t.precioDefinitivo,o=t.link_imagen,u=t.nuevaCantidad;a=a.replace(".","");var l=parseInt(a)*u,c=(0,e.useContext)(f).removeItem;return(0,s.jsx)("div",{className:"shopping-cart-list-container",children:(0,s.jsxs)("div",{className:"product-cart-list",children:[(0,s.jsx)("div",{className:"product-image-cart-list",children:(0,s.jsx)("img",{className:"img-cart-list",src:o,alt:n})}),(0,s.jsxs)("div",{className:"product-details-cart-list",children:[(0,s.jsx)("div",{className:"product-title-cart-list",children:r}),(0,s.jsx)("p",{className:"product-description-cart-list",children:i})]}),(0,s.jsxs)("div",{className:"product-price-cart-list",children:["$",a]}),(0,s.jsx)("div",{className:"product-quantity-cart-list",children:(0,s.jsx)("span",{children:u})}),(0,s.jsx)("div",{className:"product-removal-cart-list",children:(0,s.jsx)("div",{className:"remove-product-cart-list",onClick:function(){return c(n)},children:"Eliminar"})}),(0,s.jsxs)("div",{className:"product-line-price-cart-list",children:["$",l]})]})})},Ep=function(){var t=(0,e.useContext)(f),n=t.cart,r=t.valorTotal,i=t.clear,o=t.user,u=a((0,e.useState)(!1),2),l=u[0],c=u[1],h=a((0,e.useState)(),2),d=h[0],p=h[1],v=function(){c(!0);var e={items:n,buyer:o,total:r(),date:new Date,codigo:""},t=n.map((function(e){return e.id})),i=function(e){return cd(e=ed(e,ld)),new tp(e,(function(t){return ap(e,t)}))}(sp),a=od(sp,"listaDeProductos"),u=[];ip(Gd(a,$d(new hd("__name__"),"in",t))).then((function(e){e.docs.forEach((function(e){var t,r=e.data(),a=null===(t=n.find((function(t){return t.id===e.id})))||void 0===t?void 0:t.nuevaCantidad;r.stock>=a?i.update(e.ref,{stock:r.stock-a}):u.push(ie({id:e.id},r))}))})).then((function(){return 0===u.length?function(e,t){var n=ed(e.firestore,ld),r=ud(e),i=ep(e.converter,t);return ap(n,[xd(Ed(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ms.exists(!1))]).then((function(){return r}))}(od(sp,"orders"),e):(console.log("Hay productos en su pedido que no poseen stock"),Promise.reject({name:"productosSinStock",produsctos:u}))})).then((function(t){var n=t.id;e.codigo=n,i.commit(),console.log("El id de la nueva orden es: "+n)})).catch((function(e){console.log(e)})).finally((function(){c(!1),p(e)}))};return l?(0,s.jsx)("h1",{className:"container-return",children:"Su orden esta siendo procesada....."}):null!=d?(0,s.jsx)(vp,{orden:d,onAdd:function(){console.log("Clear cart y orden."),i(),p()}}):(0,s.jsxs)("div",{className:"container-itemList-cart",children:[(0,s.jsxs)("div",{className:"shopping-cart-list",children:[(0,s.jsxs)("div",{className:"column-labels-cart-list",children:[(0,s.jsx)("label",{className:"product-image-cart-list",children:"Imagen"}),(0,s.jsx)("label",{className:"product-details-cart-list",children:"Producto"}),(0,s.jsx)("label",{className:"product-price-cart-list",children:"Precio"}),(0,s.jsx)("label",{className:"product-quantity-cart-list",children:"Cantidad"}),(0,s.jsx)("label",{className:"product-removal-cart-list",children:"Eliminar"}),(0,s.jsx)("label",{className:"product-line-price-cart-list",children:"Sub-Total"})]}),n.map((function(e){return(0,s.jsx)(wp,ie({},e),e.id)}))]}),(0,s.jsxs)("div",{className:"totals-cart",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("div",{className:"totals-value-cart",children:["$",r()]}),(0,s.jsx)("div",{className:"clear-cart",children:(0,s.jsxs)("div",{className:"order-product-cart-list",onClick:function(){return v()},children:[(0,s.jsx)("span",{children:"Crear Orden "}),(0,s.jsx)("ion-icon",{name:"cash-outline"})]})}),(0,s.jsx)("div",{className:"clear-cart",children:(0,s.jsxs)("div",{className:"remove-product-cart-list",onClick:function(){return i()},children:[(0,s.jsx)("span",{children:"Vaciar Carrito "}),(0,s.jsx)("ion-icon",{name:"trash-outline"})]})})]})]})},xp=function(){var t=(0,e.useContext)(f),n=t.cart,r=t.user;return(0,s.jsx)("div",{className:"cart-container",children:null==r?(0,s.jsx)(ee,{to:"/form",children:(0,s.jsx)("div",{className:"container-return",children:(0,s.jsx)("h1",{className:"container-cargar-datos",children:"Primero necesitamos alguno de sus datos. \xa1Click Aqui!"})})}):n.length>0?(0,s.jsx)(Ep,{}):(0,s.jsx)(ee,{to:"/",children:(0,s.jsx)("div",{className:"container-return",children:(0,s.jsx)("h1",{className:"container-return-inicio",children:"El carrito esta vac\xedo, volver a inicio."})})})})};var Sp=function(){var t=a((0,e.useState)(0),2),n=t[0],r=t[1];return(0,s.jsx)(c,{onAdd:function(e){r(n+e)},children:(0,s.jsxs)(Z,{children:[(0,s.jsx)(te,{}),(0,s.jsxs)(Q,{children:[(0,s.jsx)(W,{exact:!0,path:"/",element:(0,s.jsx)(lp,{})}),(0,s.jsx)(W,{exact:!0,path:"/categoria",element:(0,s.jsx)(kp,{})}),(0,s.jsx)(W,{exact:!0,path:"/categoria/:categoriaId",element:(0,s.jsx)(lp,{})}),(0,s.jsx)(W,{exact:!0,path:"/ofertas",element:(0,s.jsx)(lp,{})}),(0,s.jsx)(W,{exact:!0,path:"/ordenes",element:(0,s.jsx)(mp,{})}),(0,s.jsx)(W,{exact:!0,path:"/ordenes/:ordenId",element:(0,s.jsx)(vp,{})}),(0,s.jsx)(W,{exact:!0,path:"/usuario",element:(0,s.jsx)(dp,{})}),(0,s.jsx)(W,{exact:!0,path:"/carrito",element:(0,s.jsx)(xp,{})}),(0,s.jsx)(W,{exact:!0,path:"/detail/:productId",element:(0,s.jsx)(fp,{})}),(0,s.jsx)(W,{exact:!0,path:"/form",element:(0,s.jsx)(hp,{})})]}),(0,s.jsx)(bp,{})]})})},Tp=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};t.render((0,s.jsx)(e.StrictMode,{children:(0,s.jsx)(Sp,{})}),document.getElementById("root")),Tp()}()}();
//# sourceMappingURL=main.2abf4937.js.map